"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.DefaultOptions = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _arrays = require("../../utils/arrays");

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

const DefaultOptions = {
  maxCount: 50,
  gravity: 0.005
};
exports.DefaultOptions = DefaultOptions;
const KEY_FRAME_INTERVAL = 15; // 15ms, roughly

const GLYPH = "ðŸ‘¾";

class SpaceInvaders {
  constructor(options) {
    (0, _defineProperty2.default)(this, "options", void 0);
    (0, _defineProperty2.default)(this, "context", null);
    (0, _defineProperty2.default)(this, "particles", []);
    (0, _defineProperty2.default)(this, "lastAnimationTime", void 0);
    (0, _defineProperty2.default)(this, "isRunning", void 0);
    (0, _defineProperty2.default)(this, "start", async (canvas, timeout = 3000) => {
      if (!canvas) {
        return;
      }

      this.context = canvas.getContext('2d');
      this.particles = [];
      const count = this.options.maxCount;

      while (this.particles.length < count) {
        this.particles.push(this.resetParticle({}, canvas.width, canvas.height));
      }

      this.isRunning = true;
      requestAnimationFrame(this.renderLoop);

      if (timeout) {
        window.setTimeout(this.stop, timeout);
      }
    });
    (0, _defineProperty2.default)(this, "stop", async () => {
      this.isRunning = false;
    });
    (0, _defineProperty2.default)(this, "resetParticle", (particle, width, height) => {
      particle.x = Math.random() * width;
      particle.y = Math.random() * -height;
      particle.xCol = particle.x;
      particle.gravity = this.options.gravity + Math.random() * 6 + 4;
      return particle;
    });
    (0, _defineProperty2.default)(this, "renderLoop", () => {
      if (!this.context || !this.context.canvas) {
        return;
      }

      if (this.particles.length === 0) {
        this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);
      } else {
        const timeDelta = Date.now() - this.lastAnimationTime;

        if (timeDelta >= KEY_FRAME_INTERVAL || !this.lastAnimationTime) {
          // Clear the screen first
          this.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);
          this.lastAnimationTime = Date.now();
          this.animateAndRenderInvaders();
        }

        requestAnimationFrame(this.renderLoop);
      }
    });
    this.options = _objectSpread(_objectSpread({}, DefaultOptions), options);
  }

  animateAndRenderInvaders() {
    if (!this.context || !this.context.canvas) {
      return;
    }

    this.context.font = "50px Twemoji";

    for (const particle of (0, _arrays.arrayFastClone)(this.particles)) {
      particle.y += particle.gravity;
      this.context.save();
      this.context.fillText(GLYPH, particle.x, particle.y);
      this.context.restore();
    }
  }

}

exports.default = SpaceInvaders;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9lZmZlY3RzL3NwYWNlaW52YWRlcnMvaW5kZXgudHMiXSwibmFtZXMiOlsiRGVmYXVsdE9wdGlvbnMiLCJtYXhDb3VudCIsImdyYXZpdHkiLCJLRVlfRlJBTUVfSU5URVJWQUwiLCJHTFlQSCIsIlNwYWNlSW52YWRlcnMiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJjYW52YXMiLCJ0aW1lb3V0IiwiY29udGV4dCIsImdldENvbnRleHQiLCJwYXJ0aWNsZXMiLCJjb3VudCIsImxlbmd0aCIsInB1c2giLCJyZXNldFBhcnRpY2xlIiwid2lkdGgiLCJoZWlnaHQiLCJpc1J1bm5pbmciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXJMb29wIiwid2luZG93Iiwic2V0VGltZW91dCIsInN0b3AiLCJwYXJ0aWNsZSIsIngiLCJNYXRoIiwicmFuZG9tIiwieSIsInhDb2wiLCJjbGVhclJlY3QiLCJ0aW1lRGVsdGEiLCJEYXRlIiwibm93IiwibGFzdEFuaW1hdGlvblRpbWUiLCJhbmltYXRlQW5kUmVuZGVySW52YWRlcnMiLCJmb250Iiwic2F2ZSIsImZpbGxUZXh0IiwicmVzdG9yZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFnQkE7Ozs7OztBQW9CTyxNQUFNQSxjQUFvQyxHQUFHO0FBQ2hEQyxFQUFBQSxRQUFRLEVBQUUsRUFEc0M7QUFFaERDLEVBQUFBLE9BQU8sRUFBRTtBQUZ1QyxDQUE3Qzs7QUFLUCxNQUFNQyxrQkFBa0IsR0FBRyxFQUEzQixDLENBQStCOztBQUMvQixNQUFNQyxLQUFLLEdBQUcsSUFBZDs7QUFFZSxNQUFNQyxhQUFOLENBQTZDO0FBR3hEQyxFQUFBQSxXQUFXLENBQUNDLE9BQUQsRUFBa0M7QUFBQTtBQUFBLG1EQUlNLElBSk47QUFBQSxxREFLVCxFQUxTO0FBQUE7QUFBQTtBQUFBLGlEQVU5QixPQUFPQyxNQUFQLEVBQWtDQyxPQUFPLEdBQUcsSUFBNUMsS0FBcUQ7QUFDaEUsVUFBSSxDQUFDRCxN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Q0EsU0FBSyxNQUFNWixRQUFYLElBQXVCLDRCQUFlLEtBQUtiLFNBQXBCLENBQXZCLEVBQXVEO0FBQ25EYSxNQUFBQSxRQUFRLENBQUNJLENBQVQsSUFBY0osUUFBUSxDQUFDdkIsT0FBdkI7QUFFQSxXQUFLUSxPQUFMLENBQWE0QixJQUFiO0FBQ0EsV0FBSzVCLE9BQUwsQ0FBYTZCLFFBQWIsQ0FBc0JuQyxLQUF0QixFQUE2QnFCLFFBQVEsQ0FBQ0MsQ0FBdEMsRUFBeUNELFFBQVEsQ0FBQ0ksQ0FBbEQ7QUFDQSxXQUFLbkIsT0FBTCxDQUFhOEIsT0FBYjtBQUNIO0FBQ0o7O0FBekV1RCIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gQ29weXJpZ2h0IDIwMjEgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cbiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IElDYW52YXNFZmZlY3QgZnJvbSAnLi4vSUNhbnZhc0VmZmVjdCc7XG5pbXBvcnQgeyBhcnJheUZhc3RDbG9uZSB9IGZyb20gXCIuLi8uLi91dGlscy9hcnJheXNcIjtcblxuZXhwb3J0IHR5cGUgU3BhY2VJbnZhZGVyc09wdGlvbnMgPSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGludmFkZXJzIHRvIHJlbmRlciBhdCBhIGdpdmVuIHRpbWVcbiAgICAgKi9cbiAgICBtYXhDb3VudDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2YgZ3Jhdml0eSB0byBhcHBseSB0byB0aGUgaW52YWRlcnNcbiAgICAgKi9cbiAgICBncmF2aXR5OiBudW1iZXI7XG59O1xuXG50eXBlIEludmFkZXIgPSB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgICB4Q29sOiBudW1iZXI7XG4gICAgZ3Jhdml0eTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRPcHRpb25zOiBTcGFjZUludmFkZXJzT3B0aW9ucyA9IHtcbiAgICBtYXhDb3VudDogNTAsXG4gICAgZ3Jhdml0eTogMC4wMDUsXG59O1xuXG5jb25zdCBLRVlfRlJBTUVfSU5URVJWQUwgPSAxNTsgLy8gMTVtcywgcm91Z2hseVxuY29uc3QgR0xZUEggPSBcIvCfkb5cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BhY2VJbnZhZGVycyBpbXBsZW1lbnRzIElDYW52YXNFZmZlY3Qge1xuICAgIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogU3BhY2VJbnZhZGVyc09wdGlvbnM7XG5cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHsgLi4uRGVmYXVsdE9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgcGFydGljbGVzOiBBcnJheTxJbnZhZGVyPiA9IFtdO1xuICAgIHByaXZhdGUgbGFzdEFuaW1hdGlvblRpbWU6IG51bWJlcjtcblxuICAgIHB1YmxpYyBpc1J1bm5pbmc6IGJvb2xlYW47XG5cbiAgICBwdWJsaWMgc3RhcnQgPSBhc3luYyAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgdGltZW91dCA9IDMwMDApID0+IHtcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLm9wdGlvbnMubWF4Q291bnQ7XG4gICAgICAgIHdoaWxlICh0aGlzLnBhcnRpY2xlcy5sZW5ndGggPCBjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaCh0aGlzLnJlc2V0UGFydGljbGUoe30gYXMgSW52YWRlciwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXJMb29wKTtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHRoaXMuc3RvcCwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHVibGljIHN0b3AgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHByaXZhdGUgcmVzZXRQYXJ0aWNsZSA9IChwYXJ0aWNsZTogSW52YWRlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBJbnZhZGVyID0+IHtcbiAgICAgICAgcGFydGljbGUueCA9IE1hdGgucmFuZG9tKCkgKiB3aWR0aDtcbiAgICAgICAgcGFydGljbGUueSA9IE1hdGgucmFuZG9tKCkgKiAtaGVpZ2h0O1xuICAgICAgICBwYXJ0aWNsZS54Q29sID0gcGFydGljbGUueDtcbiAgICAgICAgcGFydGljbGUuZ3Jhdml0eSA9IHRoaXMub3B0aW9ucy5ncmF2aXR5ICsgKE1hdGgucmFuZG9tKCkgKiA2KSArIDQ7XG4gICAgICAgIHJldHVybiBwYXJ0aWNsZTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSByZW5kZXJMb29wID0gKCk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuY29udGV4dCB8fCAhdGhpcy5jb250ZXh0LmNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBhcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5jb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdGltZURlbHRhID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdEFuaW1hdGlvblRpbWU7XG4gICAgICAgICAgICBpZiAodGltZURlbHRhID49IEtFWV9GUkFNRV9JTlRFUlZBTCB8fCAhdGhpcy5sYXN0QW5pbWF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBzY3JlZW4gZmlyc3RcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGV4dC5jYW52YXMud2lkdGgsIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGFzdEFuaW1hdGlvblRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZUFuZFJlbmRlckludmFkZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXJMb29wKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcml2YXRlIGFuaW1hdGVBbmRSZW5kZXJJbnZhZGVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMuY29udGV4dC5jYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQuZm9udCA9IFwiNTBweCBUd2Vtb2ppXCI7XG4gICAgICAgIGZvciAoY29uc3QgcGFydGljbGUgb2YgYXJyYXlGYXN0Q2xvbmUodGhpcy5wYXJ0aWNsZXMpKSB7XG4gICAgICAgICAgICBwYXJ0aWNsZS55ICs9IHBhcnRpY2xlLmdyYXZpdHk7XG5cbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQoR0xZUEgsIHBhcnRpY2xlLngsIHBhcnRpY2xlLnkpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==