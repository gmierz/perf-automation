"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireDefault(require("react"));

var _event = require("matrix-js-sdk/src/@types/event");

var _MatrixClientPeg = require("../../../MatrixClientPeg");

var _dispatcher = _interopRequireDefault(require("../../../dispatcher/dispatcher"));

var _classnames = _interopRequireDefault(require("classnames"));

var _languageHandler = require("../../../languageHandler");

var _SdkConfig = _interopRequireDefault(require("../../../SdkConfig"));

var _IdentityAuthClient = _interopRequireDefault(require("../../../IdentityAuthClient"));

var _CommunityPrototypeStore = require("../../../stores/CommunityPrototypeStore");

var _AsyncStore = require("../../../stores/AsyncStore");

var _replaceableComponent = require("../../../utils/replaceableComponent");

var _InviteReason = _interopRequireDefault(require("../elements/InviteReason"));

var _Spinner = _interopRequireDefault(require("../elements/Spinner"));

var _AccessibleButton = _interopRequireDefault(require("../elements/AccessibleButton"));

var _UIFeature = require("../../../settings/UIFeature");

var _SettingsStore = _interopRequireDefault(require("../../../settings/SettingsStore"));

var _RoomAvatar = _interopRequireDefault(require("../avatars/RoomAvatar"));

var _dec, _class, _class2, _temp;

const MemberEventHtmlReasonField = "io.element.html_reason";
var MessageCase;

(function (MessageCase) {
  MessageCase["NotLoggedIn"] = "NotLoggedIn";
  MessageCase["Joining"] = "Joining";
  MessageCase["Loading"] = "Loading";
  MessageCase["Rejecting"] = "Rejecting";
  MessageCase["Kicked"] = "Kicked";
  MessageCase["Banned"] = "Banned";
  MessageCase["OtherThreePIDError"] = "OtherThreePIDError";
  MessageCase["InvitedEmailNotFoundInAccount"] = "InvitedEmailNotFoundInAccount";
  MessageCase["InvitedEmailNoIdentityServer"] = "InvitedEmailNoIdentityServer";
  MessageCase["InvitedEmailMismatch"] = "InvitedEmailMismatch";
  MessageCase["Invite"] = "Invite";
  MessageCase["ViewingRoom"] = "ViewingRoom";
  MessageCase["RoomNotFound"] = "RoomNotFound";
  MessageCase["OtherError"] = "OtherError";
})(MessageCase || (MessageCase = {}));

let RoomPreviewBar = (_dec = (0, _replaceableComponent.replaceableComponent)("views.rooms.RoomPreviewBar"), _dec(_class = (_temp = _class2 = class RoomPreviewBar extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "onCommunityUpdate", roomId => {
      if (this.props.room && this.props.room.roomId !== roomId) {
        return;
      }

      this.forceUpdate(); // we have nothing to update
    });
    (0, _defineProperty2.default)(this, "onLoginClick", () => {
      _dispatcher.default.dispatch({
        action: 'start_login',
        screenAfterLogin: this.makeScreenAfterLogin()
      });
    });
    (0, _defineProperty2.default)(this, "onRegisterClick", () => {
      _dispatcher.default.dispatch({
        action: 'start_registration',
        screenAfterLogin: this.makeScreenAfterLogin()
      });
    });
    this.state = {
      busy: false
    };
  }

  componentDidMount() {
    this.checkInvitedEmail();

    _CommunityPrototypeStore.CommunityPrototypeStore.instance.on(_AsyncStore.UPDATE_EVENT, this.onCommunityUpdate);
  }

  componentDidUpdate(prevProps, prevState) {
    if (this.props.invitedEmail !== prevProps.invitedEmail || this.props.inviterName !== prevProps.inviterName) {
      this.checkInvitedEmail();
    }
  }

  componentWillUnmount() {
    _CommunityPrototypeStore.CommunityPrototypeStore.instance.off(_AsyncStore.UPDATE_EVENT, this.onCommunityUpdate);
  }

  async checkInvitedEmail() {
    // If this is an invite and we've been told what email address was
    // invited, fetch the user's account emails and discovery bindings so we
    // can check them against the email that was invited.
    if (this.props.inviterName && this.props.invitedEmail) {
      this.setState({
        busy: true
      });

      try {
        // Gather the account 3PIDs
        const account3pids = await _MatrixClientPeg.MatrixClientPeg.get().getThreePids();
        this.setState({
          accountEmails: account3pids.threepids.filter(b => b.medium === 'email').map(b => b.address)
        }); // If we have an IS connected, use that to lookup the email and
        // check the bound MXID.

        if (!_MatrixClientPeg.MatrixClientPeg.get().getIdentityServerUrl()) {
          this.setState({
            busy: false
          });
          return;
        }

        const authClient = new _IdentityAuthClient.default();
        const identityAccessToken = await authClient.getAccessToken();
        const result = await _MatrixClientPeg.MatrixClientPeg.get().lookupThreePid('email', this.props.invitedEmail, undefined
        /* callback */
        , identityAccessToken);
        this.setState({
          invitedEmailMxid: result.mxid
        });
      } catch (err) {
        this.setState({
          threePidFetchError: err
        });
      }

      this.setState({
        busy: false
      });
    }
  }

  getMessageCase() {
    const isGuest = _MatrixClientPeg.MatrixClientPeg.get().isGuest();

    if (isGuest) {
      return MessageCase.NotLoggedIn;
    }

    const myMember = this.getMyMember();

    if (myMember) {
      if (myMember.isKicked()) {
        return MessageCase.Kicked;
      } else if (myMember.membership === "ban") {
        return MessageCase.Banned;
      }
    }

    if (this.props.joining) {
      return MessageCase.Joining;
    } else if (this.props.rejecting) {
      return MessageCase.Rejecting;
    } else if (this.props.loading || this.state.busy) {
      return MessageCase.Loading;
    }

    if (this.props.inviterName) {
      if (this.props.invitedEmail) {
        if (this.state.threePidFetchError) {
          return MessageCase.OtherThreePIDError;
        } else if (this.state.accountEmails && !this.state.accountEmails.includes(this.props.invitedEmail)) {
          return MessageCase.InvitedEmailNotFoundInAccount;
        } else if (!_MatrixClientPeg.MatrixClientPeg.get().getIdentityServerUrl()) {
          return MessageCase.InvitedEmailNoIdentityServer;
        } else if (this.state.invitedEmailMxid != _MatrixClientPeg.MatrixClientPeg.get().getUserId()) {
          return MessageCase.InvitedEmailMismatch;
        }
      }

      return MessageCase.Invite;
    } else if (this.props.error) {
      if (this.props.error.errcode == 'M_NOT_FOUND') {
        return MessageCase.RoomNotFound;
      } else {
        return MessageCase.OtherError;
      }
    } else {
      return MessageCase.ViewingRoom;
    }
  }

  getKickOrBanInfo() {
    const myMember = this.getMyMember();

    if (!myMember) {
      return {};
    }

    const kickerMember = this.props.room.currentState.getMember(myMember.events.member.getSender());
    const memberName = kickerMember ? kickerMember.name : myMember.events.member.getSender();
    const reason = myMember.events.member.getContent().reason;
    return {
      memberName,
      reason
    };
  }

  joinRule() {
    var _this$props$room, _this$props$room$curr;

    return (_this$props$room = this.props.room) === null || _this$props$room === void 0 ? void 0 : (_this$props$room$curr = _this$props$room.currentState.getStateEvents(_event.EventType.RoomJoinRules, "")) === null || _this$props$room$curr === void 0 ? void 0 : _this$props$room$curr.getContent().join_rule;
  }

  communityProfile() {
    if (this.props.room) return _CommunityPrototypeStore.CommunityPrototypeStore.instance.getInviteProfile(this.props.room.roomId);
    return {
      displayName: null,
      avatarMxc: null
    };
  }

  roomName(atStart = false) {
    let name = this.props.room ? this.props.room.name : this.props.roomAlias;
    const profile = this.communityProfile();
    if (profile.displayName) name = profile.displayName;

    if (name) {
      return name;
    } else if (atStart) {
      return (0, _languageHandler._t)("This room");
    } else {
      return (0, _languageHandler._t)("this room");
    }
  }

  getMyMember() {
    var _this$props$room2;

    return (_this$props$room2 = this.props.room) === null || _this$props$room2 === void 0 ? void 0 : _this$props$room2.getMember(_MatrixClientPeg.MatrixClientPeg.get().getUserId());
  }

  getInviteMember() {
    const {
      room
    } = this.props;

    if (!room) {
      return;
    }

    const myUserId = _MatrixClientPeg.MatrixClientPeg.get().getUserId();

    const inviteEvent = room.currentState.getMember(myUserId);

    if (!inviteEvent) {
      return;
    }

    const inviterUserId = inviteEvent.events.member.getSender();
    return room.currentState.getMember(inviterUserId);
  }

  isDMInvite() {
    const myMember = this.getMyMember();

    if (!myMember) {
      return false;
    }

    const memberEvent = myMember.events.member;
    const memberContent = memberEvent.getContent();
    return memberContent.membership === "invite" && memberContent.is_direct;
  }

  makeScreenAfterLogin() {
    return {
      screen: 'room',
      params: {
        email: this.props.invitedEmail,
        signurl: this.props.signUrl,
        room_name: this.props.oobData ? this.props.oobData.room_name : null,
        room_avatar_url: this.props.oobData ? this.props.oobData.avatarUrl : null,
        inviter_name: this.props.oobData ? this.props.oobData.inviterName : null
      }
    };
  }

  render() {
    const brand = _SdkConfig.default.get().brand;

    let showSpinner = false;
    let title;
    let subTitle;
    let reasonElement;
    let primaryActionHandler;
    let primaryActionLabel;
    let secondaryActionHandler;
    let secondaryActionLabel;
    let footer;
    const extraComponents = [];
    const messageCase = this.getMessageCase();

    switch (messageCase) {
      case MessageCase.Joining:
        {
          var _this$props$oobData;

          title = ((_this$props$oobData = this.props.oobData) === null || _this$props$oobData === void 0 ? void 0 : _this$props$oobData.roomType) === _event.RoomType.Space ? (0, _languageHandler._t)("Joining space …") : (0, _languageHandler._t)("Joining room …");
          showSpinner = true;
          break;
        }

      case MessageCase.Loading:
        {
          title = (0, _languageHandler._t)("Loading …");
          showSpinner = true;
          break;
        }

      case MessageCase.Rejecting:
        {
          title = (0, _languageHandler._t)("Rejecting invite …");
          showSpinner = true;
          break;
        }

      case MessageCase.NotLoggedIn:
        {
          title = (0, _languageHandler._t)("Join the conversation with an account");

          if (_SettingsStore.default.getValue(_UIFeature.UIFeature.Registration)) {
            primaryActionLabel = (0, _languageHandler._t)("Sign Up");
            primaryActionHandler = this.onRegisterClick;
          }

          secondaryActionLabel = (0, _languageHandler._t)("Sign In");
          secondaryActionHandler = this.onLoginClick;

          if (this.props.previewLoading) {
            footer = /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement(_Spinner.default, {
              w: 20,
              h: 20
            }), (0, _languageHandler._t)("Loading room preview"));
          }

          break;
        }

      case MessageCase.Kicked:
        {
          const {
            memberName,
            reason
          } = this.getKickOrBanInfo();
          title = (0, _languageHandler._t)("You were kicked from %(roomName)s by %(memberName)s", {
            memberName,
            roomName: this.roomName()
          });
          subTitle = reason ? (0, _languageHandler._t)("Reason: %(reason)s", {
            reason
          }) : null;

          if (this.joinRule() === "invite") {
            primaryActionLabel = (0, _languageHandler._t)("Forget this room");
            primaryActionHandler = this.props.onForgetClick;
          } else {
            primaryActionLabel = (0, _languageHandler._t)("Re-join");
            primaryActionHandler = this.props.onJoinClick;
            secondaryActionLabel = (0, _languageHandler._t)("Forget this room");
            secondaryActionHandler = this.props.onForgetClick;
          }

          break;
        }

      case MessageCase.Banned:
        {
          const {
            memberName,
            reason
          } = this.getKickOrBanInfo();
          title = (0, _languageHandler._t)("You were banned from %(roomName)s by %(memberName)s", {
            memberName,
            roomName: this.roomName()
          });
          subTitle = reason ? (0, _languageHandler._t)("Reason: %(reason)s", {
            reason
          }) : null;
          primaryActionLabel = (0, _languageHandler._t)("Forget this room");
          primaryActionHandler = this.props.onForgetClick;
          break;
        }

      case MessageCase.OtherThreePIDError:
        {
          title = (0, _languageHandler._t)("Something went wrong with your invite to %(roomName)s", {
            roomName: this.roomName()
          });
          const joinRule = this.joinRule();
          const errCodeMessage = (0, _languageHandler._t)("An error (%(errcode)s) was returned while trying to validate your " + "invite. You could try to pass this information on to a room admin.", {
            errcode: this.state.threePidFetchError.errcode || (0, _languageHandler._t)("unknown error code")
          });

          switch (joinRule) {
            case "invite":
              subTitle = [(0, _languageHandler._t)("You can only join it with a working invite."), errCodeMessage];
              primaryActionLabel = (0, _languageHandler._t)("Try to join anyway");
              primaryActionHandler = this.props.onJoinClick;
              break;

            case "public":
              subTitle = (0, _languageHandler._t)("You can still join it because this is a public room.");
              primaryActionLabel = (0, _languageHandler._t)("Join the discussion");
              primaryActionHandler = this.props.onJoinClick;
              break;

            default:
              subTitle = errCodeMessage;
              primaryActionLabel = (0, _languageHandler._t)("Try to join anyway");
              primaryActionHandler = this.props.onJoinClick;
              break;
          }

          break;
        }

      case MessageCase.InvitedEmailNotFoundInAccount:
        {
          title = (0, _languageHandler._t)("This invite to %(roomName)s was sent to %(email)s which is not " + "associated with your account", {
            roomName: this.roomName(),
            email: this.props.invitedEmail
          });
          subTitle = (0, _languageHandler._t)("Link this email with your account in Settings to receive invites " + "directly in %(brand)s.", {
            brand
          });
          primaryActionLabel = (0, _languageHandler._t)("Join the discussion");
          primaryActionHandler = this.props.onJoinClick;
          break;
        }

      case MessageCase.InvitedEmailNoIdentityServer:
        {
          title = (0, _languageHandler._t)("This invite to %(roomName)s was sent to %(email)s", {
            roomName: this.roomName(),
            email: this.props.invitedEmail
          });
          subTitle = (0, _languageHandler._t)("Use an identity server in Settings to receive invites directly in %(brand)s.", {
            brand
          });
          primaryActionLabel = (0, _languageHandler._t)("Join the discussion");
          primaryActionHandler = this.props.onJoinClick;
          break;
        }

      case MessageCase.InvitedEmailMismatch:
        {
          title = (0, _languageHandler._t)("This invite to %(roomName)s was sent to %(email)s", {
            roomName: this.roomName(),
            email: this.props.invitedEmail
          });
          subTitle = (0, _languageHandler._t)("Share this email in Settings to receive invites directly in %(brand)s.", {
            brand
          });
          primaryActionLabel = (0, _languageHandler._t)("Join the discussion");
          primaryActionHandler = this.props.onJoinClick;
          break;
        }

      case MessageCase.Invite:
        {
          const oobData = Object.assign({}, this.props.oobData, {
            avatarUrl: this.communityProfile().avatarMxc
          });

          const avatar = /*#__PURE__*/_react.default.createElement(_RoomAvatar.default, {
            room: this.props.room,
            oobData: oobData
          });

          const inviteMember = this.getInviteMember();
          let inviterElement;

          if (inviteMember) {
            inviterElement = /*#__PURE__*/_react.default.createElement("span", null, /*#__PURE__*/_react.default.createElement("span", {
              className: "mx_RoomPreviewBar_inviter"
            }, inviteMember.rawDisplayName), " (", inviteMember.userId, ")");
          } else {
            inviterElement = /*#__PURE__*/_react.default.createElement("span", {
              className: "mx_RoomPreviewBar_inviter"
            }, this.props.inviterName);
          }

          const isDM = this.isDMInvite();

          if (isDM) {
            title = (0, _languageHandler._t)("Do you want to chat with %(user)s?", {
              user: inviteMember.name
            });
            subTitle = [avatar, (0, _languageHandler._t)("<userName/> wants to chat", {}, {
              userName: () => inviterElement
            })];
            primaryActionLabel = (0, _languageHandler._t)("Start chatting");
          } else {
            title = (0, _languageHandler._t)("Do you want to join %(roomName)s?", {
              roomName: this.roomName()
            });
            subTitle = [avatar, (0, _languageHandler._t)("<userName/> invited you", {}, {
              userName: () => inviterElement
            })];
            primaryActionLabel = (0, _languageHandler._t)("Accept");
          }

          const myUserId = _MatrixClientPeg.MatrixClientPeg.get().getUserId();

          const memberEventContent = this.props.room.currentState.getMember(myUserId).events.member.getContent();

          if (memberEventContent.reason) {
            reasonElement = /*#__PURE__*/_react.default.createElement(_InviteReason.default, {
              reason: memberEventContent.reason,
              htmlReason: memberEventContent[MemberEventHtmlReasonField]
            });
          }

          primaryActionHandler = this.props.onJoinClick;
          secondaryActionLabel = (0, _languageHandler._t)("Reject");
          secondaryActionHandler = this.props.onRejectClick;

          if (this.props.onRejectAndIgnoreClick) {
            extraComponents.push( /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
              kind: "secondary",
              onClick: this.props.onRejectAndIgnoreClick,
              key: "ignore"
            }, (0, _languageHandler._t)("Reject & Ignore user")));
          }

          break;
        }

      case MessageCase.ViewingRoom:
        {
          if (this.props.canPreview) {
            title = (0, _languageHandler._t)("You're previewing %(roomName)s. Want to join it?", {
              roomName: this.roomName()
            });
          } else {
            title = (0, _languageHandler._t)("%(roomName)s can't be previewed. Do you want to join it?", {
              roomName: this.roomName(true)
            });
          }

          primaryActionLabel = (0, _languageHandler._t)("Join the discussion");
          primaryActionHandler = this.props.onJoinClick;
          break;
        }

      case MessageCase.RoomNotFound:
        {
          title = (0, _languageHandler._t)("%(roomName)s does not exist.", {
            roomName: this.roomName(true)
          });
          subTitle = (0, _languageHandler._t)("This room doesn't exist. Are you sure you're at the right place?");
          break;
        }

      case MessageCase.OtherError:
        {
          title = (0, _languageHandler._t)("%(roomName)s is not accessible at this time.", {
            roomName: this.roomName(true)
          });
          subTitle = [(0, _languageHandler._t)("Try again later, or ask a room admin to check if you have access."), (0, _languageHandler._t)("%(errcode)s was returned while trying to access the room. " + "If you think you're seeing this message in error, please " + "<issueLink>submit a bug report</issueLink>.", {
            errcode: this.props.error.errcode
          }, {
            issueLink: label => /*#__PURE__*/_react.default.createElement("a", {
              href: "https://github.com/vector-im/element-web/issues/new/choose",
              target: "_blank",
              rel: "noreferrer noopener"
            }, label)
          })];
          break;
        }
    }

    let subTitleElements;

    if (subTitle) {
      if (!Array.isArray(subTitle)) {
        subTitle = [subTitle];
      }

      subTitleElements = subTitle.map((t, i) => /*#__PURE__*/_react.default.createElement("p", {
        key: `subTitle${i}`
      }, t));
    }

    let titleElement;

    if (showSpinner) {
      titleElement = /*#__PURE__*/_react.default.createElement("h3", {
        className: "mx_RoomPreviewBar_spinnerTitle"
      }, /*#__PURE__*/_react.default.createElement(_Spinner.default, null), title);
    } else {
      titleElement = /*#__PURE__*/_react.default.createElement("h3", null, title);
    }

    let primaryButton;

    if (primaryActionHandler) {
      primaryButton = /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
        kind: "primary",
        onClick: primaryActionHandler
      }, primaryActionLabel);
    }

    let secondaryButton;

    if (secondaryActionHandler) {
      secondaryButton = /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
        kind: "secondary",
        onClick: secondaryActionHandler
      }, secondaryActionLabel);
    }

    const classes = (0, _classnames.default)("mx_RoomPreviewBar", "dark-panel", `mx_RoomPreviewBar_${messageCase}`, {
      "mx_RoomPreviewBar_panel": this.props.canPreview,
      "mx_RoomPreviewBar_dialog": !this.props.canPreview
    });
    return /*#__PURE__*/_react.default.createElement("div", {
      className: classes
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomPreviewBar_message"
    }, titleElement, subTitleElements), reasonElement, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomPreviewBar_actions"
    }, secondaryButton, extraComponents, primaryButton), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_RoomPreviewBar_footer"
    }, footer));
  }

}, (0, _defineProperty2.default)(_class2, "defaultProps", {
  onJoinClick() {}

}), _temp)) || _class);
exports.default = RoomPreviewBar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL3Jvb21zL1Jvb21QcmV2aWV3QmFyLnRzeCJdLCJuYW1lcyI6WyJNZW1iZXJFdmVudEh0bWxSZWFzb25GaWVsZCIsIk1lc3NhZ2VDYXNlIiwiUm9vbVByZXZpZXdCYXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJyb29tSWQiLCJyb29tIiwiZm9yY2VVcGRhdGUiLCJkaXMiLCJkaXNwYXRjaCIsImFjdGlvbiIsInNjcmVlbkFmdGVyTG9naW4iLCJtYWtlU2NyZWVuQWZ0ZXJMb2dpbiIsInN0YXRlIiwiYnVzeSIsImNvbXBvbmVudERpZE1vdW50IiwiY2hlY2tJbnZpdGVkRW1haWwiLCJDb21tdW5pdHlQcm90b3R5cGVTdG9yZSIsImluc3RhbmNlIiwib24iLCJVUERBVEVfRVZFTlQiLCJvbkNvbW11bml0eVVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsInByZXZTdGF0ZSIsImludml0ZWRFbWFpbCIsImludml0ZXJOYW1lIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJvZmYiLCJzZXRTdGF0ZSIsImFjY291bnQzcGlkcyIsIk1hdHJpeENsaWVudFBlZyIsImdldCIsImdldFRocmVlUGlkcyIsImFjY291bnRFbWFpbHMiLCJ0aHJlZXBpZHMiLCJmaWx0ZXIiLCJiIiwibWVkaXVtIiwibWFwIiwiYWRkcmVzcyIsImdldElkZW50aXR5U2VydmVyVXJsIiwiYXV0aENsaWVudCIsIklkZW50aXR5QXV0aENsaWVudCIsImlkZW50aXR5QWNjZXNzVG9rZW4iLCJnZXRBY2Nlc3NUb2tlbiIsInJlc3VsdCIsImxvb2t1cFRocmVlUGlkIiwidW5kZWZpbmVkIiwiaW52aXRlZEVtYWlsTXhpZCIsIm14aWQiLCJlcnIiLCJ0aHJlZVBpZEZldGNoRXJyb3IiLCJnZXRNZXNzYWdlQ2FzZSIsImlzR3Vlc3QiLCJOb3RMb2dnZWRJbiIsIm15TWVtYmVyIiwiZ2V0TXlNZW1iZXIiLCJpc0tpY2tlZCIsIktpY2tlZCIsIm1lbWJlcnNoaXAiLCJCYW5uZWQiLCJqb2luaW5nIiwiSm9pbmluZyIsInJlamVjdGluZyIsIlJlamVjdGluZyIsImxvYWRpbmciLCJMb2FkaW5nIiwiT3RoZXJUaHJlZVBJREVycm9yIiwiaW5jbHVkZXMiLCJJbnZpdGVkRW1haWxOb3RGb3VuZEluQWNjb3VudCIsIkludml0ZWRFbWFpbE5vSWRlbnRpdHlTZXJ2ZXIiLCJnZXRVc2VySWQiLCJJbnZpdGVkRW1haWxNaXNtYXRjaCIsIkludml0ZSIsImVycm9yIiwiZXJyY29kZSIsIlJvb21Ob3RGb3VuZCIsIk90aGVyRXJyb3IiLCJWaWV3aW5nUm9vbSIsImdldEtpY2tPckJhbkluZm8iLCJraWNrZXJNZW1iZXIiLCJjdXJyZW50U3RhdGUiLCJnZXRNZW1iZXIiLCJldmVudHMiLCJtZW1iZXIiLCJnZXRTZW5kZXIiLCJtZW1iZXJOYW1lIiwibmFtZSIsInJlYXNvbiIsImdldENvbnRlbnQiLCJqb2luUnVsZSIsImdldFN0YXRlRXZlbnRzIiwiRXZlbnRUeXBlIiwiUm9vbUpvaW5SdWxlcyIsImpvaW5fcnVsZSIsImNvbW11bml0eVByb2ZpbGUiLCJnZXRJbnZpdGVQcm9maWxlIiwiZGlzcGxheU5hbWUiLCJhdmF0YXJNeGMiLCJyb29tTmFtZSIsImF0U3RhcnQiLCJyb29tQWxpYXMiLCJwcm9maWxlIiwiZ2V0SW52aXRlTWVtYmVyIiwibXlVc2VySWQiLCJpbnZpdGVFdmVudCIsImludml0ZXJVc2VySWQiLCJpc0RNSW52aXRlIiwibWVtYmVyRXZlbnQiLCJtZW1iZXJDb250ZW50IiwiaXNfZGlyZWN0Iiwic2NyZWVuIiwicGFyYW1zIiwiZW1haWwiLCJzaWdudXJsIiwic2lnblVybCIsInJvb21fbmFtZSIsIm9vYkRhdGEiLCJyb29tX2F2YXRhcl91cmwiLCJhdmF0YXJVcmwiLCJpbnZpdGVyX25hbWUiLCJyZW5kZXIiLCJicmFuZCIsIlNka0NvbmZpZyIsInNob3dTcGlubmVyIiwidGl0bGUiLCJzdWJUaXRsZSIsInJlYXNvbkVsZW1lbnQiLCJwcmltYXJ5QWN0aW9uSGFuZGxlciIsInByaW1hcnlBY3Rpb25MYWJlbCIsInNlY29uZGFyeUFjdGlvbkhhbmRsZXIiLCJzZWNvbmRhcnlBY3Rpb25MYWJlbCIsImZvb3RlciIsImV4dHJhQ29tcG9uZW50cyIsIm1lc3NhZ2VDYXNlIiwicm9vbVR5cGUiLCJSb29tVHlwZSIsIlNwYWNlIiwiU2V0dGluZ3NTdG9yZSIsImdldFZhbHVlIiwiVUlGZWF0dXJlIiwiUmVnaXN0cmF0aW9uIiwib25SZWdpc3RlckNsaWNrIiwib25Mb2dpbkNsaWNrIiwicHJldmlld0xvYWRpbmciLCJvbkZvcmdldENsaWNrIiwib25Kb2luQ2xpY2siLCJlcnJDb2RlTWVzc2FnZSIsIk9iamVjdCIsImFzc2lnbiIsImF2YXRhciIsImludml0ZU1lbWJlciIsImludml0ZXJFbGVtZW50IiwicmF3RGlzcGxheU5hbWUiLCJ1c2VySWQiLCJpc0RNIiwidXNlciIsInVzZXJOYW1lIiwibWVtYmVyRXZlbnRDb250ZW50Iiwib25SZWplY3RDbGljayIsIm9uUmVqZWN0QW5kSWdub3JlQ2xpY2siLCJwdXNoIiwiY2FuUHJldmlldyIsImlzc3VlTGluayIsImxhYmVsIiwic3ViVGl0bGVFbGVtZW50cyIsIkFycmF5IiwiaXNBcnJheSIsInQiLCJpIiwidGl0bGVFbGVtZW50IiwicHJpbWFyeUJ1dHRvbiIsInNlY29uZGFyeUJ1dHRvbiIsImNsYXNzZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUdBOztBQUlBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsMEJBQTBCLEdBQUcsd0JBQW5DO0lBRUtDLFc7O1dBQUFBLFc7QUFBQUEsRUFBQUEsVztBQUFBQSxFQUFBQSxXO0FBQUFBLEVBQUFBLFc7QUFBQUEsRUFBQUEsVztBQUFBQSxF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QUEsU0FBUyxFQUFFVztBQUFoQixvQkFDSTtBQUFLLE1BQUEsU0FBUyxFQUFDO0FBQWYsT0FDTUgsWUFETixFQUVNTCxnQkFGTixDQURKLEVBS010QyxhQUxOLGVBTUk7QUFBSyxNQUFBLFNBQVMsRUFBQztBQUFmLE9BQ002QyxlQUROLEVBRU12QyxlQUZOLEVBR01zQyxhQUhOLENBTkosZUFXSTtBQUFLLE1BQUEsU0FBUyxFQUFDO0FBQWYsT0FDTXZDLE1BRE4sQ0FYSixDQURKO0FBaUJIOztBQWxnQnVFLEMseURBQ2xEO0FBQ2xCYyxFQUFBQSxXQUFXLEdBQUcsQ0FBRTs7QUFERSxDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAyMDE1LTIwMjEgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tXCI7XG5pbXBvcnQgeyBNYXRyaXhFcnJvciB9IGZyb20gXCJtYXRyaXgtanMtc2RrL3NyYy9odHRwLWFwaVwiO1xuaW1wb3J0IHsgRXZlbnRUeXBlLCBSb29tVHlwZSB9IGZyb20gXCJtYXRyaXgtanMtc2RrL3NyYy9AdHlwZXMvZXZlbnRcIjtcbmltcG9ydCB7IElKb2luUnVsZUV2ZW50Q29udGVudCwgSm9pblJ1bGUgfSBmcm9tIFwibWF0cml4LWpzLXNkay9zcmMvQHR5cGVzL3BhcnRpYWxzXCI7XG5pbXBvcnQgeyBSb29tTWVtYmVyIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tLW1lbWJlclwiO1xuXG5pbXBvcnQgeyBNYXRyaXhDbGllbnRQZWcgfSBmcm9tICcuLi8uLi8uLi9NYXRyaXhDbGllbnRQZWcnO1xuaW1wb3J0IGRpcyBmcm9tICcuLi8uLi8uLi9kaXNwYXRjaGVyL2Rpc3BhdGNoZXInO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBfdCB9IGZyb20gJy4uLy4uLy4uL2xhbmd1YWdlSGFuZGxlcic7XG5pbXBvcnQgU2RrQ29uZmlnIGZyb20gXCIuLi8uLi8uLi9TZGtDb25maWdcIjtcbmltcG9ydCBJZGVudGl0eUF1dGhDbGllbnQgZnJvbSAnLi4vLi4vLi4vSWRlbnRpdHlBdXRoQ2xpZW50JztcbmltcG9ydCB7IENvbW11bml0eVByb3RvdHlwZVN0b3JlIH0gZnJvbSBcIi4uLy4uLy4uL3N0b3Jlcy9Db21tdW5pdHlQcm90b3R5cGVTdG9yZVwiO1xuaW1wb3J0IHsgVVBEQVRFX0VWRU5UIH0gZnJvbSBcIi4uLy4uLy4uL3N0b3Jlcy9Bc3luY1N0b3JlXCI7XG5pbXBvcnQgeyByZXBsYWNlYWJsZUNvbXBvbmVudCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9yZXBsYWNlYWJsZUNvbXBvbmVudFwiO1xuaW1wb3J0IEludml0ZVJlYXNvbiBmcm9tIFwiLi4vZWxlbWVudHMvSW52aXRlUmVhc29uXCI7XG5pbXBvcnQgeyBJT09CRGF0YSB9IGZyb20gXCIuLi8uLi8uLi9zdG9yZXMvVGhyZWVwaWRJbnZpdGVTdG9yZVwiO1xuaW1wb3J0IFNwaW5uZXIgZnJvbSBcIi4uL2VsZW1lbnRzL1NwaW5uZXJcIjtcbmltcG9ydCBBY2Nlc3NpYmxlQnV0dG9uIGZyb20gXCIuLi9lbGVtZW50cy9BY2Nlc3NpYmxlQnV0dG9uXCI7XG5pbXBvcnQgeyBVSUZlYXR1cmUgfSBmcm9tIFwiLi4vLi4vLi4vc2V0dGluZ3MvVUlGZWF0dXJlXCI7XG5pbXBvcnQgU2V0dGluZ3NTdG9yZSBmcm9tIFwiLi4vLi4vLi4vc2V0dGluZ3MvU2V0dGluZ3NTdG9yZVwiO1xuaW1wb3J0IFJvb21BdmF0YXIgZnJvbSBcIi4uL2F2YXRhcnMvUm9vbUF2YXRhclwiO1xuXG5jb25zdCBNZW1iZXJFdmVudEh0bWxSZWFzb25GaWVsZCA9IFwiaW8uZWxlbWVudC5odG1sX3JlYXNvblwiO1xuXG5lbnVtIE1lc3NhZ2VDYXNlIHtcbiAgICBOb3RMb2dnZWRJbiA9IFwiTm90TG9nZ2VkSW5cIixcbiAgICBKb2luaW5nID0gXCJKb2luaW5nXCIsXG4gICAgTG9hZGluZyA9IFwiTG9hZGluZ1wiLFxuICAgIFJlamVjdGluZyA9IFwiUmVqZWN0aW5nXCIsXG4gICAgS2lja2VkID0gXCJLaWNrZWRcIixcbiAgICBCYW5uZWQgPSBcIkJhbm5lZFwiLFxuICAgIE90aGVyVGhyZWVQSURFcnJvciA9IFwiT3RoZXJUaHJlZVBJREVycm9yXCIsXG4gICAgSW52aXRlZEVtYWlsTm90Rm91bmRJbkFjY291bnQgPSBcIkludml0ZWRFbWFpbE5vdEZvdW5kSW5BY2NvdW50XCIsXG4gICAgSW52aXRlZEVtYWlsTm9JZGVudGl0eVNlcnZlciA9IFwiSW52aXRlZEVtYWlsTm9JZGVudGl0eVNlcnZlclwiLFxuICAgIEludml0ZWRFbWFpbE1pc21hdGNoID0gXCJJbnZpdGVkRW1haWxNaXNtYXRjaFwiLFxuICAgIEludml0ZSA9IFwiSW52aXRlXCIsXG4gICAgVmlld2luZ1Jvb20gPSBcIlZpZXdpbmdSb29tXCIsXG4gICAgUm9vbU5vdEZvdW5kID0gXCJSb29tTm90Rm91bmRcIixcbiAgICBPdGhlckVycm9yID0gXCJPdGhlckVycm9yXCIsXG59XG5cbmludGVyZmFjZSBJUHJvcHMge1xuICAgIC8vIGlmIGludml0ZXJOYW1lIGlzIHNwZWNpZmllZCwgdGhlIHByZXZpZXcgYmFyIHdpbGwgc2hvd24gYW4gaW52aXRlIHRvIHRoZSByb29tLlxuICAgIC8vIFlvdSBzaG91bGQgYWxzbyBzcGVjaWZ5IG9uUmVqZWN0Q2xpY2sgaWYgc3BlY2lmeWluZyBpbnZpdGVyTmFtZVxuICAgIGludml0ZXJOYW1lPzogc3RyaW5nO1xuXG4gICAgLy8gSWYgaW52aXRlZCBieSAzcmQgcGFydHkgaW52aXRlLCB0aGUgZW1haWwgYWRkcmVzcyB0aGUgaW52aXRlIHdhcyBzZW50IHRvXG4gICAgaW52aXRlZEVtYWlsPzogc3RyaW5nO1xuXG4gICAgLy8gRm9yIHRoaXJkIHBhcnR5IGludml0ZXMsIGluZm9ybWF0aW9uIHBhc3NlZCBhYm91dCB0aGUgcm9vbSBvdXQtb2YtYmFuZFxuICAgIG9vYkRhdGE/OiBJT09CRGF0YTtcblxuICAgIC8vIEZvciB0aGlyZCBwYXJ0eSBpbnZpdGVzLCBhIFVSTCBmb3IgYSAzcGlkIGludml0ZSBzaWduaW5nIHNlcnZpY2VcbiAgICBzaWduVXJsPzogc3RyaW5nO1xuXG4gICAgLy8gQSBzdGFuZGFyZCBjbGllbnQvc2VydmVyIEFQSSBlcnJvciBvYmplY3QuIElmIHN1cHBsaWVkLCBpbmRpY2F0ZXMgdGhhdCB0aGVcbiAgICAvLyBjYWxsZXIgd2FzIHVuYWJsZSB0byBmZXRjaCBkZXRhaWxzIGFib3V0IHRoZSByb29tIGZvciB0aGUgZ2l2ZW4gcmVhc29uLlxuICAgIGVycm9yPzogTWF0cml4RXJyb3I7XG5cbiAgICBjYW5QcmV2aWV3PzogYm9vbGVhbjtcbiAgICBwcmV2aWV3TG9hZGluZz86IGJvb2xlYW47XG4gICAgcm9vbT86IFJvb207XG5cbiAgICBsb2FkaW5nPzogYm9vbGVhbjtcbiAgICBqb2luaW5nPzogYm9vbGVhbjtcbiAgICByZWplY3Rpbmc/OiBib29sZWFuO1xuICAgIC8vIFRoZSBhbGlhcyB0aGF0IHdhcyB1c2VkIHRvIGFjY2VzcyB0aGlzIHJvb20sIGlmIGFwcHJvcHJpYXRlXG4gICAgLy8gSWYgZ2l2ZW4sIHRoaXMgd2lsbCBiZSBob3cgdGhlIHJvb20gaXMgcmVmZXJyZWQgdG8gKGVnLlxuICAgIC8vIGluIGVycm9yIG1lc3NhZ2VzKS5cbiAgICByb29tQWxpYXM/OiBzdHJpbmc7XG5cbiAgICBvbkpvaW5DbGljaz8oKTogdm9pZDtcbiAgICBvblJlamVjdENsaWNrPygpOiB2b2lkO1xuICAgIG9uUmVqZWN0QW5kSWdub3JlQ2xpY2s/KCk6IHZvaWQ7XG4gICAgb25Gb3JnZXRDbGljaz8oKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gICAgYnVzeTogYm9vbGVhbjtcbiAgICBhY2NvdW50RW1haWxzPzogc3RyaW5nW107XG4gICAgaW52aXRlZEVtYWlsTXhpZD86IHN0cmluZztcbiAgICB0aHJlZVBpZEZldGNoRXJyb3I/OiBNYXRyaXhFcnJvcjtcbn1cblxuQHJlcGxhY2VhYmxlQ29tcG9uZW50KFwidmlld3Mucm9vbXMuUm9vbVByZXZpZXdCYXJcIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb21QcmV2aWV3QmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgb25Kb2luQ2xpY2soKSB7fSxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBidXN5OiBmYWxzZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5jaGVja0ludml0ZWRFbWFpbCgpO1xuICAgICAgICBDb21tdW5pdHlQcm90b3R5cGVTdG9yZS5pbnN0YW5jZS5vbihVUERBVEVfRVZFTlQsIHRoaXMub25Db21tdW5pdHlVcGRhdGUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnZpdGVkRW1haWwgIT09IHByZXZQcm9wcy5pbnZpdGVkRW1haWwgfHwgdGhpcy5wcm9wcy5pbnZpdGVyTmFtZSAhPT0gcHJldlByb3BzLmludml0ZXJOYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrSW52aXRlZEVtYWlsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgQ29tbXVuaXR5UHJvdG90eXBlU3RvcmUuaW5zdGFuY2Uub2ZmKFVQREFURV9FVkVOVCwgdGhpcy5vbkNvbW11bml0eVVwZGF0ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBjaGVja0ludml0ZWRFbWFpbCgpIHtcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpbnZpdGUgYW5kIHdlJ3ZlIGJlZW4gdG9sZCB3aGF0IGVtYWlsIGFkZHJlc3Mgd2FzXG4gICAgICAgIC8vIGludml0ZWQsIGZldGNoIHRoZSB1c2VyJ3MgYWNjb3VudCBlbWFpbHMgYW5kIGRpc2NvdmVyeSBiaW5kaW5ncyBzbyB3ZVxuICAgICAgICAvLyBjYW4gY2hlY2sgdGhlbSBhZ2FpbnN0IHRoZSBlbWFpbCB0aGF0IHdhcyBpbnZpdGVkLlxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnZpdGVyTmFtZSAmJiB0aGlzLnByb3BzLmludml0ZWRFbWFpbCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGJ1c3k6IHRydWUgfSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIEdhdGhlciB0aGUgYWNjb3VudCAzUElEc1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQzcGlkcyA9IGF3YWl0IE1hdHJpeENsaWVudFBlZy5nZXQoKS5nZXRUaHJlZVBpZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudEVtYWlsczogYWNjb3VudDNwaWRzLnRocmVlcGlkcy5maWx0ZXIoYiA9PiBiLm1lZGl1bSA9PT0gJ2VtYWlsJykubWFwKGIgPT4gYi5hZGRyZXNzKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIElTIGNvbm5lY3RlZCwgdXNlIHRoYXQgdG8gbG9va3VwIHRoZSBlbWFpbCBhbmRcbiAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGUgYm91bmQgTVhJRC5cbiAgICAgICAgICAgICAgICBpZiAoIU1hdHJpeENsaWVudFBlZy5nZXQoKS5nZXRJZGVudGl0eVNlcnZlclVybCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBidXN5OiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoQ2xpZW50ID0gbmV3IElkZW50aXR5QXV0aENsaWVudCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkZW50aXR5QWNjZXNzVG9rZW4gPSBhd2FpdCBhdXRoQ2xpZW50LmdldEFjY2Vzc1Rva2VuKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTWF0cml4Q2xpZW50UGVnLmdldCgpLmxvb2t1cFRocmVlUGlkKFxuICAgICAgICAgICAgICAgICAgICAnZW1haWwnLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmludml0ZWRFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkIC8qIGNhbGxiYWNrICovLFxuICAgICAgICAgICAgICAgICAgICBpZGVudGl0eUFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludml0ZWRFbWFpbE14aWQ6IHJlc3VsdC5teGlkIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRocmVlUGlkRmV0Y2hFcnJvcjogZXJyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGJ1c3k6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkNvbW11bml0eVVwZGF0ZSA9IChyb29tSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yb29tICYmIHRoaXMucHJvcHMucm9vbS5yb29tSWQgIT09IHJvb21JZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTsgLy8gd2UgaGF2ZSBub3RoaW5nIHRvIHVwZGF0ZVxuICAgIH07XG5cbiAgICBwcml2YXRlIGdldE1lc3NhZ2VDYXNlKCk6IE1lc3NhZ2VDYXNlIHtcbiAgICAgICAgY29uc3QgaXNHdWVzdCA9IE1hdHJpeENsaWVudFBlZy5nZXQoKS5pc0d1ZXN0KCk7XG5cbiAgICAgICAgaWYgKGlzR3Vlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNzYWdlQ2FzZS5Ob3RMb2dnZWRJbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG15TWVtYmVyID0gdGhpcy5nZXRNeU1lbWJlcigpO1xuXG4gICAgICAgIGlmIChteU1lbWJlcikge1xuICAgICAgICAgICAgaWYgKG15TWVtYmVyLmlzS2lja2VkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuS2lja2VkO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChteU1lbWJlci5tZW1iZXJzaGlwID09PSBcImJhblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VDYXNlLkJhbm5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmpvaW5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNzYWdlQ2FzZS5Kb2luaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMucmVqZWN0aW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuUmVqZWN0aW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubG9hZGluZyB8fCB0aGlzLnN0YXRlLmJ1c3kpIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNzYWdlQ2FzZS5Mb2FkaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW52aXRlck5hbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmludml0ZWRFbWFpbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnRocmVlUGlkRmV0Y2hFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuT3RoZXJUaHJlZVBJREVycm9yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWNjb3VudEVtYWlscyAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5hY2NvdW50RW1haWxzLmluY2x1ZGVzKHRoaXMucHJvcHMuaW52aXRlZEVtYWlsKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuSW52aXRlZEVtYWlsTm90Rm91bmRJbkFjY291bnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghTWF0cml4Q2xpZW50UGVnLmdldCgpLmdldElkZW50aXR5U2VydmVyVXJsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VDYXNlLkludml0ZWRFbWFpbE5vSWRlbnRpdHlTZXJ2ZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmludml0ZWRFbWFpbE14aWQgIT0gTWF0cml4Q2xpZW50UGVnLmdldCgpLmdldFVzZXJJZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNZXNzYWdlQ2FzZS5JbnZpdGVkRW1haWxNaXNtYXRjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuSW52aXRlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICgodGhpcy5wcm9wcy5lcnJvciBhcyBNYXRyaXhFcnJvcikuZXJyY29kZSA9PSAnTV9OT1RfRk9VTkQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VDYXNlLlJvb21Ob3RGb3VuZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1lc3NhZ2VDYXNlLk90aGVyRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWVzc2FnZUNhc2UuVmlld2luZ1Jvb207XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEtpY2tPckJhbkluZm8oKTogeyBtZW1iZXJOYW1lPzogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcgfSB7XG4gICAgICAgIGNvbnN0IG15TWVtYmVyID0gdGhpcy5nZXRNeU1lbWJlcigpO1xuICAgICAgICBpZiAoIW15TWVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2lja2VyTWVtYmVyID0gdGhpcy5wcm9wcy5yb29tLmN1cnJlbnRTdGF0ZS5nZXRNZW1iZXIoXG4gICAgICAgICAgICBteU1lbWJlci5ldmVudHMubWVtYmVyLmdldFNlbmRlcigpLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBtZW1iZXJOYW1lID0ga2lja2VyTWVtYmVyID9cbiAgICAgICAgICAgIGtpY2tlck1lbWJlci5uYW1lIDogbXlNZW1iZXIuZXZlbnRzLm1lbWJlci5nZXRTZW5kZXIoKTtcbiAgICAgICAgY29uc3QgcmVhc29uID0gbXlNZW1iZXIuZXZlbnRzLm1lbWJlci5nZXRDb250ZW50KCkucmVhc29uO1xuICAgICAgICByZXR1cm4geyBtZW1iZXJOYW1lLCByZWFzb24gfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGpvaW5SdWxlKCk6IEpvaW5SdWxlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMucm9vbT8uY3VycmVudFN0YXRlXG4gICAgICAgICAgICAuZ2V0U3RhdGVFdmVudHMoRXZlbnRUeXBlLlJvb21Kb2luUnVsZXMsIFwiXCIpPy5nZXRDb250ZW50PElKb2luUnVsZUV2ZW50Q29udGVudD4oKS5qb2luX3J1bGU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjb21tdW5pdHlQcm9maWxlKCk6IHsgZGlzcGxheU5hbWU/OiBzdHJpbmcsIGF2YXRhck14Yz86IHN0cmluZyB9IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMucm9vbSkgcmV0dXJuIENvbW11bml0eVByb3RvdHlwZVN0b3JlLmluc3RhbmNlLmdldEludml0ZVByb2ZpbGUodGhpcy5wcm9wcy5yb29tLnJvb21JZCk7XG4gICAgICAgIHJldHVybiB7IGRpc3BsYXlOYW1lOiBudWxsLCBhdmF0YXJNeGM6IG51bGwgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJvb21OYW1lKGF0U3RhcnQgPSBmYWxzZSk6IHN0cmluZyB7XG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5wcm9wcy5yb29tID8gdGhpcy5wcm9wcy5yb29tLm5hbWUgOiB0aGlzLnByb3BzLnJvb21BbGlhcztcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9IHRoaXMuY29tbXVuaXR5UHJvZmlsZSgpO1xuICAgICAgICBpZiAocHJvZmlsZS5kaXNwbGF5TmFtZSkgbmFtZSA9IHByb2ZpbGUuZGlzcGxheU5hbWU7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgfSBlbHNlIGlmIChhdFN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3QoXCJUaGlzIHJvb21cIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3QoXCJ0aGlzIHJvb21cIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE15TWVtYmVyKCk6IFJvb21NZW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5yb29tPy5nZXRNZW1iZXIoTWF0cml4Q2xpZW50UGVnLmdldCgpLmdldFVzZXJJZCgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEludml0ZU1lbWJlcigpOiBSb29tTWVtYmVyIHtcbiAgICAgICAgY29uc3QgeyByb29tIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICBpZiAoIXJvb20pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBteVVzZXJJZCA9IE1hdHJpeENsaWVudFBlZy5nZXQoKS5nZXRVc2VySWQoKTtcbiAgICAgICAgY29uc3QgaW52aXRlRXZlbnQgPSByb29tLmN1cnJlbnRTdGF0ZS5nZXRNZW1iZXIobXlVc2VySWQpO1xuICAgICAgICBpZiAoIWludml0ZUV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW52aXRlclVzZXJJZCA9IGludml0ZUV2ZW50LmV2ZW50cy5tZW1iZXIuZ2V0U2VuZGVyKCk7XG4gICAgICAgIHJldHVybiByb29tLmN1cnJlbnRTdGF0ZS5nZXRNZW1iZXIoaW52aXRlclVzZXJJZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0RNSW52aXRlKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCBteU1lbWJlciA9IHRoaXMuZ2V0TXlNZW1iZXIoKTtcbiAgICAgICAgaWYgKCFteU1lbWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lbWJlckV2ZW50ID0gbXlNZW1iZXIuZXZlbnRzLm1lbWJlcjtcbiAgICAgICAgY29uc3QgbWVtYmVyQ29udGVudCA9IG1lbWJlckV2ZW50LmdldENvbnRlbnQoKTtcbiAgICAgICAgcmV0dXJuIG1lbWJlckNvbnRlbnQubWVtYmVyc2hpcCA9PT0gXCJpbnZpdGVcIiAmJiBtZW1iZXJDb250ZW50LmlzX2RpcmVjdDtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1ha2VTY3JlZW5BZnRlckxvZ2luKCk6IHsgc2NyZWVuOiBzdHJpbmcsIHBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiB9IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjcmVlbjogJ3Jvb20nLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgZW1haWw6IHRoaXMucHJvcHMuaW52aXRlZEVtYWlsLFxuICAgICAgICAgICAgICAgIHNpZ251cmw6IHRoaXMucHJvcHMuc2lnblVybCxcbiAgICAgICAgICAgICAgICByb29tX25hbWU6IHRoaXMucHJvcHMub29iRGF0YSA/IHRoaXMucHJvcHMub29iRGF0YS5yb29tX25hbWUgOiBudWxsLFxuICAgICAgICAgICAgICAgIHJvb21fYXZhdGFyX3VybDogdGhpcy5wcm9wcy5vb2JEYXRhID8gdGhpcy5wcm9wcy5vb2JEYXRhLmF2YXRhclVybCA6IG51bGwsXG4gICAgICAgICAgICAgICAgaW52aXRlcl9uYW1lOiB0aGlzLnByb3BzLm9vYkRhdGEgPyB0aGlzLnByb3BzLm9vYkRhdGEuaW52aXRlck5hbWUgOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTG9naW5DbGljayA9ICgpID0+IHtcbiAgICAgICAgZGlzLmRpc3BhdGNoKHsgYWN0aW9uOiAnc3RhcnRfbG9naW4nLCBzY3JlZW5BZnRlckxvZ2luOiB0aGlzLm1ha2VTY3JlZW5BZnRlckxvZ2luKCkgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25SZWdpc3RlckNsaWNrID0gKCkgPT4ge1xuICAgICAgICBkaXMuZGlzcGF0Y2goeyBhY3Rpb246ICdzdGFydF9yZWdpc3RyYXRpb24nLCBzY3JlZW5BZnRlckxvZ2luOiB0aGlzLm1ha2VTY3JlZW5BZnRlckxvZ2luKCkgfSk7XG4gICAgfTtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgYnJhbmQgPSBTZGtDb25maWcuZ2V0KCkuYnJhbmQ7XG5cbiAgICAgICAgbGV0IHNob3dTcGlubmVyID0gZmFsc2U7XG4gICAgICAgIGxldCB0aXRsZTtcbiAgICAgICAgbGV0IHN1YlRpdGxlO1xuICAgICAgICBsZXQgcmVhc29uRWxlbWVudDtcbiAgICAgICAgbGV0IHByaW1hcnlBY3Rpb25IYW5kbGVyO1xuICAgICAgICBsZXQgcHJpbWFyeUFjdGlvbkxhYmVsO1xuICAgICAgICBsZXQgc2Vjb25kYXJ5QWN0aW9uSGFuZGxlcjtcbiAgICAgICAgbGV0IHNlY29uZGFyeUFjdGlvbkxhYmVsO1xuICAgICAgICBsZXQgZm9vdGVyO1xuICAgICAgICBjb25zdCBleHRyYUNvbXBvbmVudHMgPSBbXTtcblxuICAgICAgICBjb25zdCBtZXNzYWdlQ2FzZSA9IHRoaXMuZ2V0TWVzc2FnZUNhc2UoKTtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlQ2FzZSkge1xuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5Kb2luaW5nOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSB0aGlzLnByb3BzLm9vYkRhdGE/LnJvb21UeXBlID09PSBSb29tVHlwZS5TcGFjZSA/IF90KFwiSm9pbmluZyBzcGFjZSDigKZcIikgOiBfdChcIkpvaW5pbmcgcm9vbSDigKZcIik7XG4gICAgICAgICAgICAgICAgc2hvd1NwaW5uZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5Mb2FkaW5nOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIkxvYWRpbmcg4oCmXCIpO1xuICAgICAgICAgICAgICAgIHNob3dTcGlubmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZUNhc2UuUmVqZWN0aW5nOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIlJlamVjdGluZyBpbnZpdGUg4oCmXCIpO1xuICAgICAgICAgICAgICAgIHNob3dTcGlubmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZUNhc2UuTm90TG9nZ2VkSW46IHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF90KFwiSm9pbiB0aGUgY29udmVyc2F0aW9uIHdpdGggYW4gYWNjb3VudFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoU2V0dGluZ3NTdG9yZS5nZXRWYWx1ZShVSUZlYXR1cmUuUmVnaXN0cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIlNpZ24gVXBcIik7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25IYW5kbGVyID0gdGhpcy5vblJlZ2lzdGVyQ2xpY2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlY29uZGFyeUFjdGlvbkxhYmVsID0gX3QoXCJTaWduIEluXCIpO1xuICAgICAgICAgICAgICAgIHNlY29uZGFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLm9uTG9naW5DbGljaztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wcmV2aWV3TG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICBmb290ZXIgPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTcGlubmVyIHc9ezIwfSBoPXsyMH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF90KFwiTG9hZGluZyByb29tIHByZXZpZXdcIikgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5LaWNrZWQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1lbWJlck5hbWUsIHJlYXNvbiB9ID0gdGhpcy5nZXRLaWNrT3JCYW5JbmZvKCk7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIllvdSB3ZXJlIGtpY2tlZCBmcm9tICUocm9vbU5hbWUpcyBieSAlKG1lbWJlck5hbWUpc1wiLFxuICAgICAgICAgICAgICAgICAgICB7IG1lbWJlck5hbWUsIHJvb21OYW1lOiB0aGlzLnJvb21OYW1lKCkgfSk7XG4gICAgICAgICAgICAgICAgc3ViVGl0bGUgPSByZWFzb24gPyBfdChcIlJlYXNvbjogJShyZWFzb24pc1wiLCB7IHJlYXNvbiB9KSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5qb2luUnVsZSgpID09PSBcImludml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25MYWJlbCA9IF90KFwiRm9yZ2V0IHRoaXMgcm9vbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uRm9yZ2V0Q2xpY2s7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkxhYmVsID0gX3QoXCJSZS1qb2luXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uSGFuZGxlciA9IHRoaXMucHJvcHMub25Kb2luQ2xpY2s7XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeUFjdGlvbkxhYmVsID0gX3QoXCJGb3JnZXQgdGhpcyByb29tXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnlBY3Rpb25IYW5kbGVyID0gdGhpcy5wcm9wcy5vbkZvcmdldENsaWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZUNhc2UuQmFubmVkOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBtZW1iZXJOYW1lLCByZWFzb24gfSA9IHRoaXMuZ2V0S2lja09yQmFuSW5mbygpO1xuICAgICAgICAgICAgICAgIHRpdGxlID0gX3QoXCJZb3Ugd2VyZSBiYW5uZWQgZnJvbSAlKHJvb21OYW1lKXMgYnkgJShtZW1iZXJOYW1lKXNcIixcbiAgICAgICAgICAgICAgICAgICAgeyBtZW1iZXJOYW1lLCByb29tTmFtZTogdGhpcy5yb29tTmFtZSgpIH0pO1xuICAgICAgICAgICAgICAgIHN1YlRpdGxlID0gcmVhc29uID8gX3QoXCJSZWFzb246ICUocmVhc29uKXNcIiwgeyByZWFzb24gfSkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25MYWJlbCA9IF90KFwiRm9yZ2V0IHRoaXMgcm9vbVwiKTtcbiAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uSGFuZGxlciA9IHRoaXMucHJvcHMub25Gb3JnZXRDbGljaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZUNhc2UuT3RoZXJUaHJlZVBJREVycm9yOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIlNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggeW91ciBpbnZpdGUgdG8gJShyb29tTmFtZSlzXCIsXG4gICAgICAgICAgICAgICAgICAgIHsgcm9vbU5hbWU6IHRoaXMucm9vbU5hbWUoKSB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBqb2luUnVsZSA9IHRoaXMuam9pblJ1bGUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJDb2RlTWVzc2FnZSA9IF90KFxuICAgICAgICAgICAgICAgICAgICBcIkFuIGVycm9yICglKGVycmNvZGUpcykgd2FzIHJldHVybmVkIHdoaWxlIHRyeWluZyB0byB2YWxpZGF0ZSB5b3VyIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJpbnZpdGUuIFlvdSBjb3VsZCB0cnkgdG8gcGFzcyB0aGlzIGluZm9ybWF0aW9uIG9uIHRvIGEgcm9vbSBhZG1pbi5cIixcbiAgICAgICAgICAgICAgICAgICAgeyBlcnJjb2RlOiB0aGlzLnN0YXRlLnRocmVlUGlkRmV0Y2hFcnJvci5lcnJjb2RlIHx8IF90KFwidW5rbm93biBlcnJvciBjb2RlXCIpIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGpvaW5SdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnZpdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YlRpdGxlID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90KFwiWW91IGNhbiBvbmx5IGpvaW4gaXQgd2l0aCBhIHdvcmtpbmcgaW52aXRlLlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJDb2RlTWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIlRyeSB0byBqb2luIGFueXdheVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25IYW5kbGVyID0gdGhpcy5wcm9wcy5vbkpvaW5DbGljaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicHVibGljXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZSA9IF90KFwiWW91IGNhbiBzdGlsbCBqb2luIGl0IGJlY2F1c2UgdGhpcyBpcyBhIHB1YmxpYyByb29tLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25MYWJlbCA9IF90KFwiSm9pbiB0aGUgZGlzY3Vzc2lvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25IYW5kbGVyID0gdGhpcy5wcm9wcy5vbkpvaW5DbGljaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViVGl0bGUgPSBlcnJDb2RlTWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25MYWJlbCA9IF90KFwiVHJ5IHRvIGpvaW4gYW55d2F5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uSm9pbkNsaWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5JbnZpdGVkRW1haWxOb3RGb3VuZEluQWNjb3VudDoge1xuICAgICAgICAgICAgICAgIHRpdGxlID0gX3QoXG4gICAgICAgICAgICAgICAgICAgIFwiVGhpcyBpbnZpdGUgdG8gJShyb29tTmFtZSlzIHdhcyBzZW50IHRvICUoZW1haWwpcyB3aGljaCBpcyBub3QgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImFzc29jaWF0ZWQgd2l0aCB5b3VyIGFjY291bnRcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IHRoaXMucm9vbU5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLmludml0ZWRFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHN1YlRpdGxlID0gX3QoXG4gICAgICAgICAgICAgICAgICAgIFwiTGluayB0aGlzIGVtYWlsIHdpdGggeW91ciBhY2NvdW50IGluIFNldHRpbmdzIHRvIHJlY2VpdmUgaW52aXRlcyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiZGlyZWN0bHkgaW4gJShicmFuZClzLlwiLFxuICAgICAgICAgICAgICAgICAgICB7IGJyYW5kIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIkpvaW4gdGhlIGRpc2N1c3Npb25cIik7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uSm9pbkNsaWNrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5JbnZpdGVkRW1haWxOb0lkZW50aXR5U2VydmVyOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIGludml0ZSB0byAlKHJvb21OYW1lKXMgd2FzIHNlbnQgdG8gJShlbWFpbClzXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb21OYW1lOiB0aGlzLnJvb21OYW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdGhpcy5wcm9wcy5pbnZpdGVkRW1haWwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzdWJUaXRsZSA9IF90KFxuICAgICAgICAgICAgICAgICAgICBcIlVzZSBhbiBpZGVudGl0eSBzZXJ2ZXIgaW4gU2V0dGluZ3MgdG8gcmVjZWl2ZSBpbnZpdGVzIGRpcmVjdGx5IGluICUoYnJhbmQpcy5cIixcbiAgICAgICAgICAgICAgICAgICAgeyBicmFuZCB9LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkxhYmVsID0gX3QoXCJKb2luIHRoZSBkaXNjdXNzaW9uXCIpO1xuICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25IYW5kbGVyID0gdGhpcy5wcm9wcy5vbkpvaW5DbGljaztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTWVzc2FnZUNhc2UuSW52aXRlZEVtYWlsTWlzbWF0Y2g6IHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF90KFxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgaW52aXRlIHRvICUocm9vbU5hbWUpcyB3YXMgc2VudCB0byAlKGVtYWlsKXNcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vbU5hbWU6IHRoaXMucm9vbU5hbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0aGlzLnByb3BzLmludml0ZWRFbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHN1YlRpdGxlID0gX3QoXG4gICAgICAgICAgICAgICAgICAgIFwiU2hhcmUgdGhpcyBlbWFpbCBpbiBTZXR0aW5ncyB0byByZWNlaXZlIGludml0ZXMgZGlyZWN0bHkgaW4gJShicmFuZClzLlwiLFxuICAgICAgICAgICAgICAgICAgICB7IGJyYW5kIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIkpvaW4gdGhlIGRpc2N1c3Npb25cIik7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uSm9pbkNsaWNrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5JbnZpdGU6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvb2JEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5vb2JEYXRhLCB7XG4gICAgICAgICAgICAgICAgICAgIGF2YXRhclVybDogdGhpcy5jb21tdW5pdHlQcm9maWxlKCkuYXZhdGFyTXhjLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF2YXRhciA9IDxSb29tQXZhdGFyIHJvb209e3RoaXMucHJvcHMucm9vbX0gb29iRGF0YT17b29iRGF0YX0gLz47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbnZpdGVNZW1iZXIgPSB0aGlzLmdldEludml0ZU1lbWJlcigpO1xuICAgICAgICAgICAgICAgIGxldCBpbnZpdGVyRWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAoaW52aXRlTWVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGludml0ZXJFbGVtZW50ID0gPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJteF9Sb29tUHJldmlld0Jhcl9pbnZpdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBpbnZpdGVNZW1iZXIucmF3RGlzcGxheU5hbWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPiAoeyBpbnZpdGVNZW1iZXIudXNlcklkIH0pXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW52aXRlckVsZW1lbnQgPSAoPHNwYW4gY2xhc3NOYW1lPVwibXhfUm9vbVByZXZpZXdCYXJfaW52aXRlclwiPnsgdGhpcy5wcm9wcy5pbnZpdGVyTmFtZSB9PC9zcGFuPik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNETSA9IHRoaXMuaXNETUludml0ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChpc0RNKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlID0gX3QoXCJEbyB5b3Ugd2FudCB0byBjaGF0IHdpdGggJSh1c2VyKXM/XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHVzZXI6IGludml0ZU1lbWJlci5uYW1lIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF90KFwiPHVzZXJOYW1lLz4gd2FudHMgdG8gY2hhdFwiLCB7fSwgeyB1c2VyTmFtZTogKCkgPT4gaW52aXRlckVsZW1lbnQgfSksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlBY3Rpb25MYWJlbCA9IF90KFwiU3RhcnQgY2hhdHRpbmdcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIkRvIHlvdSB3YW50IHRvIGpvaW4gJShyb29tTmFtZSlzP1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyByb29tTmFtZTogdGhpcy5yb29tTmFtZSgpIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdWJUaXRsZSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF90KFwiPHVzZXJOYW1lLz4gaW52aXRlZCB5b3VcIiwge30sIHsgdXNlck5hbWU6ICgpID0+IGludml0ZXJFbGVtZW50IH0pLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIkFjY2VwdFwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBteVVzZXJJZCA9IE1hdHJpeENsaWVudFBlZy5nZXQoKS5nZXRVc2VySWQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZW1iZXJFdmVudENvbnRlbnQgPSB0aGlzLnByb3BzLnJvb20uY3VycmVudFN0YXRlLmdldE1lbWJlcihteVVzZXJJZCkuZXZlbnRzLm1lbWJlci5nZXRDb250ZW50KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWVtYmVyRXZlbnRDb250ZW50LnJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICByZWFzb25FbGVtZW50ID0gPEludml0ZVJlYXNvblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uPXttZW1iZXJFdmVudENvbnRlbnQucmVhc29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbFJlYXNvbj17bWVtYmVyRXZlbnRDb250ZW50W01lbWJlckV2ZW50SHRtbFJlYXNvbkZpZWxkXX1cbiAgICAgICAgICAgICAgICAgICAgLz47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uSm9pbkNsaWNrO1xuICAgICAgICAgICAgICAgIHNlY29uZGFyeUFjdGlvbkxhYmVsID0gX3QoXCJSZWplY3RcIik7XG4gICAgICAgICAgICAgICAgc2Vjb25kYXJ5QWN0aW9uSGFuZGxlciA9IHRoaXMucHJvcHMub25SZWplY3RDbGljaztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uUmVqZWN0QW5kSWdub3JlQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFDb21wb25lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvbiBraW5kPVwic2Vjb25kYXJ5XCIgb25DbGljaz17dGhpcy5wcm9wcy5vblJlamVjdEFuZElnbm9yZUNsaWNrfSBrZXk9XCJpZ25vcmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF90KFwiUmVqZWN0ICYgSWdub3JlIHVzZXJcIikgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9BY2Nlc3NpYmxlQnV0dG9uPixcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIE1lc3NhZ2VDYXNlLlZpZXdpbmdSb29tOiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY2FuUHJldmlldykge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IF90KFwiWW91J3JlIHByZXZpZXdpbmcgJShyb29tTmFtZSlzLiBXYW50IHRvIGpvaW4gaXQ/XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJvb21OYW1lOiB0aGlzLnJvb21OYW1lKCkgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIiUocm9vbU5hbWUpcyBjYW4ndCBiZSBwcmV2aWV3ZWQuIERvIHlvdSB3YW50IHRvIGpvaW4gaXQ/XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJvb21OYW1lOiB0aGlzLnJvb21OYW1lKHRydWUpIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcmltYXJ5QWN0aW9uTGFiZWwgPSBfdChcIkpvaW4gdGhlIGRpc2N1c3Npb25cIik7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUFjdGlvbkhhbmRsZXIgPSB0aGlzLnByb3BzLm9uSm9pbkNsaWNrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5Sb29tTm90Rm91bmQ6IHtcbiAgICAgICAgICAgICAgICB0aXRsZSA9IF90KFwiJShyb29tTmFtZSlzIGRvZXMgbm90IGV4aXN0LlwiLCB7IHJvb21OYW1lOiB0aGlzLnJvb21OYW1lKHRydWUpIH0pO1xuICAgICAgICAgICAgICAgIHN1YlRpdGxlID0gX3QoXCJUaGlzIHJvb20gZG9lc24ndCBleGlzdC4gQXJlIHlvdSBzdXJlIHlvdSdyZSBhdCB0aGUgcmlnaHQgcGxhY2U/XCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBNZXNzYWdlQ2FzZS5PdGhlckVycm9yOiB7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBfdChcIiUocm9vbU5hbWUpcyBpcyBub3QgYWNjZXNzaWJsZSBhdCB0aGlzIHRpbWUuXCIsIHsgcm9vbU5hbWU6IHRoaXMucm9vbU5hbWUodHJ1ZSkgfSk7XG4gICAgICAgICAgICAgICAgc3ViVGl0bGUgPSBbXG4gICAgICAgICAgICAgICAgICAgIF90KFwiVHJ5IGFnYWluIGxhdGVyLCBvciBhc2sgYSByb29tIGFkbWluIHRvIGNoZWNrIGlmIHlvdSBoYXZlIGFjY2Vzcy5cIiksXG4gICAgICAgICAgICAgICAgICAgIF90KFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIlKGVycmNvZGUpcyB3YXMgcmV0dXJuZWQgd2hpbGUgdHJ5aW5nIHRvIGFjY2VzcyB0aGUgcm9vbS4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJJZiB5b3UgdGhpbmsgeW91J3JlIHNlZWluZyB0aGlzIG1lc3NhZ2UgaW4gZXJyb3IsIHBsZWFzZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxpc3N1ZUxpbms+c3VibWl0IGEgYnVnIHJlcG9ydDwvaXNzdWVMaW5rPi5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgZXJyY29kZTogdGhpcy5wcm9wcy5lcnJvci5lcnJjb2RlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGlzc3VlTGluazogbGFiZWwgPT4gPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL3ZlY3Rvci1pbS9lbGVtZW50LXdlYi9pc3N1ZXMvbmV3L2Nob29zZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWw9XCJub3JlZmVycmVyIG5vb3BlbmVyXCI+eyBsYWJlbCB9PC9hPiB9LFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc3ViVGl0bGVFbGVtZW50cztcbiAgICAgICAgaWYgKHN1YlRpdGxlKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3ViVGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgc3ViVGl0bGUgPSBbc3ViVGl0bGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVGl0bGVFbGVtZW50cyA9IHN1YlRpdGxlLm1hcCgodCwgaSkgPT4gPHAga2V5PXtgc3ViVGl0bGUke2l9YH0+eyB0IH08L3A+KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0aXRsZUVsZW1lbnQ7XG4gICAgICAgIGlmIChzaG93U3Bpbm5lcikge1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50ID0gPGgzIGNsYXNzTmFtZT1cIm14X1Jvb21QcmV2aWV3QmFyX3NwaW5uZXJUaXRsZVwiPjxTcGlubmVyIC8+eyB0aXRsZSB9PC9oMz47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZUVsZW1lbnQgPSA8aDM+eyB0aXRsZSB9PC9oMz47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcHJpbWFyeUJ1dHRvbjtcbiAgICAgICAgaWYgKHByaW1hcnlBY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICBwcmltYXJ5QnV0dG9uID0gKFxuICAgICAgICAgICAgICAgIDxBY2Nlc3NpYmxlQnV0dG9uIGtpbmQ9XCJwcmltYXJ5XCIgb25DbGljaz17cHJpbWFyeUFjdGlvbkhhbmRsZXJ9PlxuICAgICAgICAgICAgICAgICAgICB7IHByaW1hcnlBY3Rpb25MYWJlbCB9XG4gICAgICAgICAgICAgICAgPC9BY2Nlc3NpYmxlQnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWNvbmRhcnlCdXR0b247XG4gICAgICAgIGlmIChzZWNvbmRhcnlBY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICBzZWNvbmRhcnlCdXR0b24gPSAoXG4gICAgICAgICAgICAgICAgPEFjY2Vzc2libGVCdXR0b24ga2luZD1cInNlY29uZGFyeVwiIG9uQ2xpY2s9e3NlY29uZGFyeUFjdGlvbkhhbmRsZXJ9PlxuICAgICAgICAgICAgICAgICAgICB7IHNlY29uZGFyeUFjdGlvbkxhYmVsIH1cbiAgICAgICAgICAgICAgICA8L0FjY2Vzc2libGVCdXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoXCJteF9Sb29tUHJldmlld0JhclwiLCBcImRhcmstcGFuZWxcIiwgYG14X1Jvb21QcmV2aWV3QmFyXyR7bWVzc2FnZUNhc2V9YCwge1xuICAgICAgICAgICAgXCJteF9Sb29tUHJldmlld0Jhcl9wYW5lbFwiOiB0aGlzLnByb3BzLmNhblByZXZpZXcsXG4gICAgICAgICAgICBcIm14X1Jvb21QcmV2aWV3QmFyX2RpYWxvZ1wiOiAhdGhpcy5wcm9wcy5jYW5QcmV2aWV3LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXN9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfUm9vbVByZXZpZXdCYXJfbWVzc2FnZVwiPlxuICAgICAgICAgICAgICAgICAgICB7IHRpdGxlRWxlbWVudCB9XG4gICAgICAgICAgICAgICAgICAgIHsgc3ViVGl0bGVFbGVtZW50cyB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyByZWFzb25FbGVtZW50IH1cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1Jvb21QcmV2aWV3QmFyX2FjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgeyBzZWNvbmRhcnlCdXR0b24gfVxuICAgICAgICAgICAgICAgICAgICB7IGV4dHJhQ29tcG9uZW50cyB9XG4gICAgICAgICAgICAgICAgICAgIHsgcHJpbWFyeUJ1dHRvbiB9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteF9Sb29tUHJldmlld0Jhcl9mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgeyBmb290ZXIgfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIl19