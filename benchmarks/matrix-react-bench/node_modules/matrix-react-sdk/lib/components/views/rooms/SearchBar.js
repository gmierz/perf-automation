"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SearchScope = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _react = _interopRequireWildcard(require("react"));

var _AccessibleButton = _interopRequireDefault(require("../elements/AccessibleButton"));

var _classnames = _interopRequireDefault(require("classnames"));

var _languageHandler = require("../../../languageHandler");

var _Keyboard = require("../../../Keyboard");

var _DesktopBuildsNotice = _interopRequireWildcard(require("../elements/DesktopBuildsNotice"));

var _replaceableComponent = require("../../../utils/replaceableComponent");

var _dec, _class;

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

let SearchScope;
exports.SearchScope = SearchScope;

(function (SearchScope) {
  SearchScope["Room"] = "Room";
  SearchScope["All"] = "All";
})(SearchScope || (exports.SearchScope = SearchScope = {}));

let SearchBar = (_dec = (0, _replaceableComponent.replaceableComponent)("views.rooms.SearchBar"), _dec(_class = class SearchBar extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "searchTerm", /*#__PURE__*/(0, _react.createRef)());
    (0, _defineProperty2.default)(this, "onThisRoomClick", () => {
      this.setState({
        scope: SearchScope.Room
      }, () => this.searchIfQuery());
    });
    (0, _defineProperty2.default)(this, "onAllRoomsClick", () => {
      this.setState({
        scope: SearchScope.All
      }, () => this.searchIfQuery());
    });
    (0, _defineProperty2.default)(this, "onSearchChange", e => {
      switch (e.key) {
        case _Keyboard.Key.ENTER:
          this.onSearch();
          break;

        case _Keyboard.Key.ESCAPE:
          this.props.onCancelClick();
          break;
      }
    });
    (0, _defineProperty2.default)(this, "onSearch", () => {
      this.props.onSearch(this.searchTerm.current.value, this.state.scope);
    });
    this.state = {
      scope: SearchScope.Room
    };
  }

  searchIfQuery() {
    if (this.searchTerm.current.value) {
      this.onSearch();
    }
  }

  render() {
    const searchButtonClasses = (0, _classnames.default)("mx_SearchBar_searchButton", {
      mx_SearchBar_searching: this.props.searchInProgress
    });
    const thisRoomClasses = (0, _classnames.default)("mx_SearchBar_button", {
      mx_SearchBar_unselected: this.state.scope !== SearchScope.Room
    });
    const allRoomsClasses = (0, _classnames.default)("mx_SearchBar_button", {
      mx_SearchBar_unselected: this.state.scope !== SearchScope.All
    });
    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SearchBar"
    }, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SearchBar_buttons",
      role: "radiogroup"
    }, /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      className: thisRoomClasses,
      onClick: this.onThisRoomClick,
      "aria-checked": this.state.scope === SearchScope.Room,
      role: "radio"
    }, (0, _languageHandler._t)("This Room")), /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      className: allRoomsClasses,
      onClick: this.onAllRoomsClick,
      "aria-checked": this.state.scope === SearchScope.All,
      role: "radio"
    }, (0, _languageHandler._t)("All Rooms"))), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_SearchBar_input mx_textinput"
    }, /*#__PURE__*/_react.default.createElement("input", {
      ref: this.searchTerm,
      type: "text",
      autoFocus: true,
      placeholder: (0, _languageHandler._t)("Searchâ€¦"),
      onKeyDown: this.onSearchChange
    }), /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      className: searchButtonClasses,
      onClick: this.onSearch
    })), /*#__PURE__*/_react.default.createElement(_AccessibleButton.default, {
      className: "mx_SearchBar_cancel",
      onClick: this.props.onCancelClick
    })), /*#__PURE__*/_react.default.createElement(_DesktopBuildsNotice.default, {
      isRoomEncrypted: this.props.isRoomEncrypted,
      kind: _DesktopBuildsNotice.WarningKind.Search
    }));
  }

}) || _class);
exports.default = SearchBar;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL3Jvb21zL1NlYXJjaEJhci50c3giXSwibmFtZXMiOlsiU2VhcmNoU2NvcGUiLCJTZWFyY2hCYXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzZXRTdGF0ZSIsInNjb3BlIiwiUm9vbSIsInNlYXJjaElmUXVlcnkiLCJBbGwiLCJlIiwia2V5IiwiS2V5IiwiRU5URVIiLCJvblNlYXJjaCIsIkVTQ0FQRSIsIm9uQ2FuY2VsQ2xpY2siLCJzZWFyY2hUZXJtIiwiY3VycmVudCIsInZhbHVlIiwic3RhdGUiLCJyZW5kZXIiLCJzZWFyY2hCdXR0b25DbGFzc2VzIiwibXhfU2VhcmNoQmFyX3NlYXJjaGluZyIsInNlYXJjaEluUHJvZ3Jlc3MiLCJ0aGlzUm9vbUNsYXNzZXMiLCJteF9TZWFyY2hCYXJfdW5zZWxlY3RlZCIsImFsbFJvb21zQ2xhc3NlcyIsIm9uVGhpc1Jvb21DbGljayIsIm9uQWxsUm9vbXNDbGljayIsIm9uU2VhcmNoQ2hhbmdlIiwiaXNSb29tRW5jcnlwdGVkIiwiV2FybmluZ0tpbmQiLCJTZWFyY2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBaUJBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztJQWFZQSxXOzs7V0FBQUEsVztBQUFBQSxFQUFBQSxXO0FBQUFBLEVBQUFBLFc7R0FBQUEsVywyQkFBQUEsVzs7SUFNU0MsUyxXQURwQixnREFBcUIsdUJBQXJCLEMsZ0JBQUQsTUFDcUJBLFNBRHJCLFNBQ3VDQyxlQUFNQyxTQUQ3QyxDQUN1RTtBQUduRUMsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQWdCO0FBQ3ZCLFVBQU1BLEtBQU47QUFEdUIsbUVBRnVCLHVCQUV2QjtBQUFBLDJEQU9ELE1BQU07QUFDNUIsV0FBS0MsUUFBTCxDQUFjO0FBQUVDLFFBQUFBLEtBQUssRUFBRVAsV0FBVyxDQUFDUTtBQUFyQixPQUFk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QUE1QjtBQUFrRCxNQUFBLE9BQU8sRUFBRSxLQUFLVixLQUFMLENBQVdZO0FBQXRFLE1BN0JKLENBREosZUFnQ0ksNkJBQUMsNEJBQUQ7QUFBcUIsTUFBQSxlQUFlLEVBQUUsS0FBS1osS0FBTCxDQUFXMkIsZUFBakQ7QUFBa0UsTUFBQSxJQUFJLEVBQUVDLGlDQUFZQztBQUFwRixNQWhDSixDQURKO0FBb0NIOztBQXRGa0UsQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5Db3B5cmlnaHQgMjAxNSwgMjAxNiBPcGVuTWFya2V0IEx0ZFxuQ29weXJpZ2h0IDIwMjAgVGhlIE1hdHJpeC5vcmcgRm91bmRhdGlvbiBDLkkuQy5cblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxubGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlUmVmLCBSZWZPYmplY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQWNjZXNzaWJsZUJ1dHRvbiBmcm9tIFwiLi4vZWxlbWVudHMvQWNjZXNzaWJsZUJ1dHRvblwiO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSBcImNsYXNzbmFtZXNcIjtcbmltcG9ydCB7IF90IH0gZnJvbSAnLi4vLi4vLi4vbGFuZ3VhZ2VIYW5kbGVyJztcbmltcG9ydCB7IEtleSB9IGZyb20gXCIuLi8uLi8uLi9LZXlib2FyZFwiO1xuaW1wb3J0IERlc2t0b3BCdWlsZHNOb3RpY2UsIHsgV2FybmluZ0tpbmQgfSBmcm9tIFwiLi4vZWxlbWVudHMvRGVza3RvcEJ1aWxkc05vdGljZVwiO1xuaW1wb3J0IHsgcmVwbGFjZWFibGVDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvcmVwbGFjZWFibGVDb21wb25lbnRcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgb25DYW5jZWxDbGljazogKCkgPT4gdm9pZDtcbiAgICBvblNlYXJjaDogKHF1ZXJ5OiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+IHZvaWQ7XG4gICAgc2VhcmNoSW5Qcm9ncmVzcz86IGJvb2xlYW47XG4gICAgaXNSb29tRW5jcnlwdGVkPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gICAgc2NvcGU6IFNlYXJjaFNjb3BlO1xufVxuXG5leHBvcnQgZW51bSBTZWFyY2hTY29wZSB7XG4gICAgUm9vbSA9IFwiUm9vbVwiLFxuICAgIEFsbCA9IFwiQWxsXCIsXG59XG5cbkByZXBsYWNlYWJsZUNvbXBvbmVudChcInZpZXdzLnJvb21zLlNlYXJjaEJhclwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoQmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgcHJpdmF0ZSBzZWFyY2hUZXJtOiBSZWZPYmplY3Q8SFRNTElucHV0RWxlbWVudD4gPSBjcmVhdGVSZWYoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2NvcGU6IFNlYXJjaFNjb3BlLlJvb20sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblRoaXNSb29tQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzY29wZTogU2VhcmNoU2NvcGUuUm9vbSB9LCAoKSA9PiB0aGlzLnNlYXJjaElmUXVlcnkoKSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25BbGxSb29tc0NsaWNrID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2NvcGU6IFNlYXJjaFNjb3BlLkFsbCB9LCAoKSA9PiB0aGlzLnNlYXJjaElmUXVlcnkoKSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25TZWFyY2hDaGFuZ2UgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIEtleS5FTlRFUjpcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEtleS5FU0NBUEU6XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNhbmNlbENsaWNrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBzZWFyY2hJZlF1ZXJ5KCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5zZWFyY2hUZXJtLmN1cnJlbnQudmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub25TZWFyY2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25TZWFyY2ggPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25TZWFyY2godGhpcy5zZWFyY2hUZXJtLmN1cnJlbnQudmFsdWUsIHRoaXMuc3RhdGUuc2NvcGUpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBzZWFyY2hCdXR0b25DbGFzc2VzID0gY2xhc3NOYW1lcyhcIm14X1NlYXJjaEJhcl9zZWFyY2hCdXR0b25cIiwge1xuICAgICAgICAgICAgbXhfU2VhcmNoQmFyX3NlYXJjaGluZzogdGhpcy5wcm9wcy5zZWFyY2hJblByb2dyZXNzLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdGhpc1Jvb21DbGFzc2VzID0gY2xhc3NOYW1lcyhcIm14X1NlYXJjaEJhcl9idXR0b25cIiwge1xuICAgICAgICAgICAgbXhfU2VhcmNoQmFyX3Vuc2VsZWN0ZWQ6IHRoaXMuc3RhdGUuc2NvcGUgIT09IFNlYXJjaFNjb3BlLlJvb20sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhbGxSb29tc0NsYXNzZXMgPSBjbGFzc05hbWVzKFwibXhfU2VhcmNoQmFyX2J1dHRvblwiLCB7XG4gICAgICAgICAgICBteF9TZWFyY2hCYXJfdW5zZWxlY3RlZDogdGhpcy5zdGF0ZS5zY29wZSAhPT0gU2VhcmNoU2NvcGUuQWxsLFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1NlYXJjaEJhclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1NlYXJjaEJhcl9idXR0b25zXCIgcm9sZT1cInJhZGlvZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBY2Nlc3NpYmxlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzUm9vbUNsYXNzZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblRoaXNSb29tQ2xpY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXt0aGlzLnN0YXRlLnNjb3BlID09PSBTZWFyY2hTY29wZS5Sb29tfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcIlRoaXMgUm9vbVwiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FjY2Vzc2libGVCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YWxsUm9vbXNDbGFzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25BbGxSb29tc0NsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY2hlY2tlZD17dGhpcy5zdGF0ZS5zY29wZSA9PT0gU2VhcmNoU2NvcGUuQWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfdChcIkFsbCBSb29tc1wiKSB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0FjY2Vzc2libGVCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14X1NlYXJjaEJhcl9pbnB1dCBteF90ZXh0aW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e190KFwiU2VhcmNo4oCmXCIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5vblNlYXJjaENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvbiBjbGFzc05hbWU9e3NlYXJjaEJ1dHRvbkNsYXNzZXN9IG9uQ2xpY2s9e3RoaXMub25TZWFyY2h9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8QWNjZXNzaWJsZUJ1dHRvbiBjbGFzc05hbWU9XCJteF9TZWFyY2hCYXJfY2FuY2VsXCIgb25DbGljaz17dGhpcy5wcm9wcy5vbkNhbmNlbENsaWNrfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxEZXNrdG9wQnVpbGRzTm90aWNlIGlzUm9vbUVuY3J5cHRlZD17dGhpcy5wcm9wcy5pc1Jvb21FbmNyeXB0ZWR9IGtpbmQ9e1dhcm5pbmdLaW5kLlNlYXJjaH0gLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApO1xuICAgIH1cbn1cbiJdfQ==