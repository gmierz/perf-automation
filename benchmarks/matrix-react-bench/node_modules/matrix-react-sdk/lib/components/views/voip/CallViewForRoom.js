"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _call = require("matrix-js-sdk/src/webrtc/call");

var _react = _interopRequireDefault(require("react"));

var _CallHandler = _interopRequireWildcard(require("../../../CallHandler"));

var _CallView = _interopRequireDefault(require("./CallView"));

var _dispatcher = _interopRequireDefault(require("../../../dispatcher/dispatcher"));

var _reResizable = require("re-resizable");

var _replaceableComponent = require("../../../utils/replaceableComponent");

var _dec, _class;

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

let CallViewForRoom = (
/*
 * Wrapper for CallView that always display the call in a given room,
 * or nothing if there is no call in that room.
 */
_dec = (0, _replaceableComponent.replaceableComponent)("views.voip.CallViewForRoom"), _dec(_class = class CallViewForRoom extends _react.default.Component {
  constructor(props) {
    super(props);
    (0, _defineProperty2.default)(this, "dispatcherRef", void 0);
    (0, _defineProperty2.default)(this, "onAction", payload => {
      switch (payload.action) {
        case 'call_state':
          {
            this.updateCall();
            break;
          }
      }
    });
    (0, _defineProperty2.default)(this, "updateCall", () => {
      const newCall = this.getCall();

      if (newCall !== this.state.call) {
        this.setState({
          call: newCall
        });
      }
    });
    (0, _defineProperty2.default)(this, "onResizeStart", () => {
      this.props.resizeNotifier.startResizing();
    });
    (0, _defineProperty2.default)(this, "onResize", () => {
      this.props.resizeNotifier.notifyTimelineHeightChanged();
    });
    (0, _defineProperty2.default)(this, "onResizeStop", () => {
      this.props.resizeNotifier.stopResizing();
    });
    this.state = {
      call: this.getCall()
    };
  }

  componentDidMount() {
    this.dispatcherRef = _dispatcher.default.register(this.onAction);

    _CallHandler.default.sharedInstance().addListener(_CallHandler.CallHandlerEvent.CallChangeRoom, this.updateCall);
  }

  componentWillUnmount() {
    _dispatcher.default.unregister(this.dispatcherRef);

    _CallHandler.default.sharedInstance().removeListener(_CallHandler.CallHandlerEvent.CallChangeRoom, this.updateCall);
  }

  getCall() {
    const call = _CallHandler.default.sharedInstance().getCallForRoom(this.props.roomId);

    if (call && [_call.CallState.Ended, _call.CallState.Ringing].includes(call.state)) return null;
    return call;
  }

  render() {
    if (!this.state.call) return null;
    return /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_CallViewForRoom"
    }, /*#__PURE__*/_react.default.createElement(_reResizable.Resizable, {
      minHeight: 380,
      maxHeight: "80vh",
      enable: {
        top: false,
        right: false,
        bottom: true,
        left: false,
        topRight: false,
        bottomRight: false,
        bottomLeft: false,
        topLeft: false
      },
      onResizeStart: this.onResizeStart,
      onResize: this.onResize,
      onResizeStop: this.onResizeStop,
      className: "mx_CallViewForRoom_ResizeWrapper",
      handleClasses: {
        bottom: "mx_CallViewForRoom_ResizeHandle"
      }
    }, /*#__PURE__*/_react.default.createElement(_CallView.default, {
      call: this.state.call,
      pipMode: false,
      showApps: this.props.showApps
    })));
  }

}) || _class);
exports.default = CallViewForRoom;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL3ZvaXAvQ2FsbFZpZXdGb3JSb29tLnRzeCJdLCJuYW1lcyI6WyJDYWxsVmlld0ZvclJvb20iLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJwYXlsb2FkIiwiYWN0aW9uIiwidXBkYXRlQ2FsbCIsIm5ld0NhbGwiLCJnZXRDYWxsIiwic3RhdGUiLCJjYWxsIiwic2V0U3RhdGUiLCJyZXNpemVOb3RpZmllciIsInN0YXJ0UmVzaXppbmciLCJub3RpZnlUaW1lbGluZUhlaWdodENoYW5nZWQiLCJzdG9wUmVzaXppbmciLCJjb21wb25lbnREaWRNb3VudCIsImRpc3BhdGNoZXJSZWYiLCJkaXMiLCJyZWdpc3RlciIsIm9uQWN0aW9uIiwiQ2FsbEhhbmRsZXIiLCJzaGFyZWRJbnN0YW5jZSIsImFkZExpc3RlbmVyIiwiQ2FsbEhhbmRsZXJFdmVudCIsIkNhbGxDaGFuZ2VSb29tIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ1bnJlZ2lzdGVyIiwicmVtb3ZlTGlzdGVuZXIiLCJnZXRDYWxsRm9yUm9vbSIsInJvb21JZCIsIkNhbGxTdGF0ZSIsIkVuZGVkIiwiUmluZ2luZyIsImluY2x1ZGVzIiwicmVuZGVyIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwidG9wUmlnaHQiLCJib3R0b21SaWdodCIsImJvdHRvbUxlZnQiLCJ0b3BMZWZ0Iiwib25SZXNpemVTdGFydCIsIm9uUmVzaXplIiwib25SZXNpemVTdG9wIiwic2hvd0FwcHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUVBOzs7Ozs7OztJQW9CcUJBLGU7QUFMckI7QUFDQTtBQUNBO0FBQ0E7T0FDQyxnREFBcUIsNEJBQXJCLEMsZ0JBQUQsTUFDcUJBLGVBRHJCLFNBQzZDQyxlQUFNQyxTQURuRCxDQUM2RTtBQUd6RUMsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQWdCO0FBQ3ZCLFVBQU1BLEtBQU47QUFEdUI7QUFBQSxvREFpQlBDLE9BQUQsSUFBYTtBQUM1QixjQUFRQSxPQUFPLENBQUNDLE1BQWhCO0FBQ0ksYUFBSyxZQUFMO0FBQW1CO0FBQ2YsaUJBQUtDLFVBQUw7QUFDQTtBQUNIO0FBSkw7QUFNSCxLQXhCMEI7QUFBQSxzREEwQk4sTUFBTTtBQUN2QixZQUFNQyxPQUFPLEdBQUcsS0FBS0MsT0FBTCxFQUFoQjs7QUFDQSxVQUFJRCxPQUFPLEtBQUssS0FBS0UsS0FBTCxDQUFXQyxJQUEzQixFQUFpQztBQUM3QixhQUFLQyxRQUFMLENBQWM7QUFBRUQsVUFBQUEsSUFBSSxFQUFFSDtBQUFSLFNBQWQ7QUFDSDtBQUNKLEtBL0IwQjtBQUFBLHlEQXdDSCxNQUFNO0FBQzFCLFdBQUtKLEtBQUwsQ0FBV1MsY0FBWCxDQUEwQkMsYUFBMUI7QUFDSCxLQTFDMEI7QUFBQSxvREE0Q1IsTUFBTTtBQUNyQixXQUFLVixLQUFMLENBQVdTLGNBQVgsQ0FBMEJFLDJCQUExQjtBQUNILEtBOUMwQjtBQUFBLHdEQWdESixNQUFNO0FBQ3pCLFdBQUtYLEtBQUwsQ0FBV1MsY0FBWCxDQUEwQkcsWUFBMUI7QUFDSCxLQWxEMEI7QUFFdkIsU0FBS04sS0FBTCxHQUFhO0FBQ1RDLE1BQUFBLElBQUksRUFBRSxLQUFLRixPQUFMO0FBREcsS0FBYjtBQUdIOztBQUVNUSxFQUFBQSxpQkFBaUIsR0FBRztBQUN2QixTQUFLQyxhQUFMLEdBQXFCQyxvQkFBSUMsUUFBSixDQUFhLEtBQUtDLFFBQWxCLENBQXJCOztBQUNBQyx5QkFBWUMsY0FBWixHQUE2QkMsV0FBN0IsQ0FBeUNDLDhCQUFpQkMsY0FBMUQsRUFBMEUsS0FBS25CLFVBQS9FO0FBQ0g7O0FBRU1vQixFQUFBQSxvQkFBb0IsR0FBRztBQUMxQlIsd0JBQUlTLFVBQUosQ0FBZSxLQUFLVixhQUFwQjs7QUFDQUkseUJBQVlDLGNBQVosR0FBNkJNLGNBQTdCLENBQTRDSiw4QkFBaUJDLGNBQTdELEVBQTZFLEtBQUtuQixVQUFsRjtBQUNIOztBQWtCT0UsRUFBQUEsT0FBTyxHQUFlO0FBQzFCLFVBQU1FLElBQUksR0FBR1cscUJBQVlDLGNBQVosR0FBNkJPLGNBQTdCLENBQTRDLEtBQUsxQixLQUFMLENBQVcyQixNQUF2RCxDQUFiOztBQUVBLFFBQUlwQixJQUFJLElBQUksQ0FBQ3FCLGdCQUFVQyxLQUFYLEVBQWtCRCxnQkFBVUUsT0FBNUIsRUFBcUNDLFFBQXJDLENBQThDeEIsSUFBSSxDQUFDRCxLQUFuRCxDQUFaLEVBQXVFLE9BQU8sSUFBUDtBQUN2RSxXQUFPQyxJQUFQO0FBQ0g7O0FBY015QixFQUFBQSxNQUFNLEdBQUc7QUFDWixRQUFJLENBQUMsS0FBSzFCLEtBQUwsQ0FBV0MsSUFBaEIsRUFBc0IsT0FBTyxJQUFQO0FBRXRCLHdCQUNJO0FBQUssTUFBQSxTQUFTLEVBQUM7QUFBZixvQkFDSSw2QkFBQyxzQkFBRDtBQUNJLE1BQUEsU0FBUyxFQUFFLEdBRGY7QUFFSSxNQUFBLFNBQVMsRUFBQyxNQUZkO0FBR0ksTUFBQSxNQUFNLEVBQUU7QUFDSjBCLFFBQUFBLEdBQUcsRUFBRSxLQUREO0FBRUpDLFFBQUFBLEtBQUssRUFBRSxLQUZIO0FBR0pDLFFBQUFBLE1BQU0sRUFBRSxJQUhKO0FBSUpDLFFBQUFBLElBQUksRUFBRSxLQUpGO0FBS0pDLFFBQUFBLFFBQVEsRUFBRSxLQUxOO0FBTUpDLFFBQUFBLFdBQVcsRUFBRSxLQU5UO0FBT0pDLFFBQUFBLFVBQVUsRUFBRSxLQVBSO0FBUUpDLFFBQUFBLE9BQU8sRUFBRTtBQVJMLE9BSFo7QUFhSSxNQUFBLGFBQWEsRUFBRSxLQUFLQyxhQWJ4QjtBQWNJLE1BQUEsUUFBUSxFQUFFLEtBQUtDLFFBZG5CO0FBZUksTUFBQSxZQUFZLEVBQUUsS0FBS0MsWUFmdkI7QUFnQkksTUFBQSxTQUFTLEVBQUMsa0NBaEJkO0FBaUJJLE1BQUEsYUFBYSxFQUFFO0FBQUVSLFFBQUFBLE1BQU0sRUFBRTtBQUFWO0FBakJuQixvQkFtQkksNkJBQUMsaUJBQUQ7QUFDSSxNQUFBLElBQUksRUFBRSxLQUFLN0IsS0FBTCxDQUFXQyxJQURyQjtBQUVJLE1BQUEsT0FBTyxFQUFFLEtBRmI7QUFHSSxNQUFBLFFBQVEsRUFBRSxLQUFLUCxLQUFMLENBQVc0QztBQUh6QixNQW5CSixDQURKLENBREo7QUE2Qkg7O0FBdkZ3RSxDIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAyMDIwIFRoZSBNYXRyaXgub3JnIEZvdW5kYXRpb24gQy5JLkMuXG5cbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG55b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG5Zb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5Vbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG5kaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG5XSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cblNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbmxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cblxuaW1wb3J0IHsgQ2FsbFN0YXRlLCBNYXRyaXhDYWxsIH0gZnJvbSAnbWF0cml4LWpzLXNkay9zcmMvd2VicnRjL2NhbGwnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDYWxsSGFuZGxlciwgeyBDYWxsSGFuZGxlckV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vQ2FsbEhhbmRsZXInO1xuaW1wb3J0IENhbGxWaWV3IGZyb20gJy4vQ2FsbFZpZXcnO1xuaW1wb3J0IGRpcyBmcm9tICcuLi8uLi8uLi9kaXNwYXRjaGVyL2Rpc3BhdGNoZXInO1xuaW1wb3J0IHsgUmVzaXphYmxlIH0gZnJvbSBcInJlLXJlc2l6YWJsZVwiO1xuaW1wb3J0IFJlc2l6ZU5vdGlmaWVyIGZyb20gXCIuLi8uLi8uLi91dGlscy9SZXNpemVOb3RpZmllclwiO1xuaW1wb3J0IHsgcmVwbGFjZWFibGVDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvcmVwbGFjZWFibGVDb21wb25lbnRcIjtcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gICAgLy8gV2hhdCByb29tIHdlIHNob3VsZCBkaXNwbGF5IHRoZSBjYWxsIGZvclxuICAgIHJvb21JZDogc3RyaW5nO1xuXG4gICAgcmVzaXplTm90aWZpZXI6IFJlc2l6ZU5vdGlmaWVyO1xuXG4gICAgc2hvd0FwcHM/OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbiAgICBjYWxsOiBNYXRyaXhDYWxsO1xufVxuXG4vKlxuICogV3JhcHBlciBmb3IgQ2FsbFZpZXcgdGhhdCBhbHdheXMgZGlzcGxheSB0aGUgY2FsbCBpbiBhIGdpdmVuIHJvb20sXG4gKiBvciBub3RoaW5nIGlmIHRoZXJlIGlzIG5vIGNhbGwgaW4gdGhhdCByb29tLlxuICovXG5AcmVwbGFjZWFibGVDb21wb25lbnQoXCJ2aWV3cy52b2lwLkNhbGxWaWV3Rm9yUm9vbVwiKVxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FsbFZpZXdGb3JSb29tIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG4gICAgcHJpdmF0ZSBkaXNwYXRjaGVyUmVmOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczogSVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNhbGw6IHRoaXMuZ2V0Q2FsbCgpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyUmVmID0gZGlzLnJlZ2lzdGVyKHRoaXMub25BY3Rpb24pO1xuICAgICAgICBDYWxsSGFuZGxlci5zaGFyZWRJbnN0YW5jZSgpLmFkZExpc3RlbmVyKENhbGxIYW5kbGVyRXZlbnQuQ2FsbENoYW5nZVJvb20sIHRoaXMudXBkYXRlQ2FsbCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBkaXMudW5yZWdpc3Rlcih0aGlzLmRpc3BhdGNoZXJSZWYpO1xuICAgICAgICBDYWxsSGFuZGxlci5zaGFyZWRJbnN0YW5jZSgpLnJlbW92ZUxpc3RlbmVyKENhbGxIYW5kbGVyRXZlbnQuQ2FsbENoYW5nZVJvb20sIHRoaXMudXBkYXRlQ2FsbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkFjdGlvbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHN3aXRjaCAocGF5bG9hZC5hY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2NhbGxfc3RhdGUnOiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYWxsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSB1cGRhdGVDYWxsID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDYWxsID0gdGhpcy5nZXRDYWxsKCk7XG4gICAgICAgIGlmIChuZXdDYWxsICE9PSB0aGlzLnN0YXRlLmNhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjYWxsOiBuZXdDYWxsIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByaXZhdGUgZ2V0Q2FsbCgpOiBNYXRyaXhDYWxsIHtcbiAgICAgICAgY29uc3QgY2FsbCA9IENhbGxIYW5kbGVyLnNoYXJlZEluc3RhbmNlKCkuZ2V0Q2FsbEZvclJvb20odGhpcy5wcm9wcy5yb29tSWQpO1xuXG4gICAgICAgIGlmIChjYWxsICYmIFtDYWxsU3RhdGUuRW5kZWQsIENhbGxTdGF0ZS5SaW5naW5nXS5pbmNsdWRlcyhjYWxsLnN0YXRlKSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXNpemVTdGFydCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5yZXNpemVOb3RpZmllci5zdGFydFJlc2l6aW5nKCk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25SZXNpemUgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMucmVzaXplTm90aWZpZXIubm90aWZ5VGltZWxpbmVIZWlnaHRDaGFuZ2VkKCk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgb25SZXNpemVTdG9wID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLnJlc2l6ZU5vdGlmaWVyLnN0b3BSZXNpemluZygpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuY2FsbCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfQ2FsbFZpZXdGb3JSb29tXCI+XG4gICAgICAgICAgICAgICAgPFJlc2l6YWJsZVxuICAgICAgICAgICAgICAgICAgICBtaW5IZWlnaHQ9ezM4MH1cbiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0PVwiODB2aFwiXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wUmlnaHQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tUmlnaHQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BMZWZ0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25SZXNpemVTdGFydD17dGhpcy5vblJlc2l6ZVN0YXJ0fVxuICAgICAgICAgICAgICAgICAgICBvblJlc2l6ZT17dGhpcy5vblJlc2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgb25SZXNpemVTdG9wPXt0aGlzLm9uUmVzaXplU3RvcH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXhfQ2FsbFZpZXdGb3JSb29tX1Jlc2l6ZVdyYXBwZXJcIlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVDbGFzc2VzPXt7IGJvdHRvbTogXCJteF9DYWxsVmlld0ZvclJvb21fUmVzaXplSGFuZGxlXCIgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDYWxsVmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbD17dGhpcy5zdGF0ZS5jYWxsfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGlwTW9kZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93QXBwcz17dGhpcy5wcm9wcy5zaG93QXBwc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L1Jlc2l6YWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiJdfQ==