"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireWildcard(require("react"));

var _lodash = require("lodash");

var _MemberAvatar = _interopRequireDefault(require("../avatars/MemberAvatar"));

var _languageHandler = require("../../../languageHandler");

var _DMRoomMap = _interopRequireDefault(require("../../../utils/DMRoomMap"));

var _TextWithTooltip = _interopRequireDefault(require("../elements/TextWithTooltip"));

var _useRoomMembers = require("../../../hooks/useRoomMembers");

var _MatrixClientContext = _interopRequireDefault(require("../../../contexts/MatrixClientContext"));

const _excluded = ["room", "onlyKnownUsers", "numShown"];

function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }

function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

const DEFAULT_NUM_FACES = 5;

const isKnownMember = member => {
  var _DMRoomMap$shared$get;

  return !!((_DMRoomMap$shared$get = _DMRoomMap.default.shared().getDMRoomsForUserId(member.userId)) !== null && _DMRoomMap$shared$get !== void 0 && _DMRoomMap$shared$get.length);
};

const FacePile = _ref => {
  let {
    room,
    onlyKnownUsers = true,
    numShown = DEFAULT_NUM_FACES
  } = _ref,
      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);
  const cli = (0, _react.useContext)(_MatrixClientContext.default);
  let members = (0, _useRoomMembers.useRoomMembers)(room); // sort users with an explicit avatar first

  const iteratees = [member => !!member.getMxcAvatarUrl()];

  if (onlyKnownUsers) {
    members = members.filter(isKnownMember);
  } else {
    // sort known users first
    iteratees.unshift(member => isKnownMember(member));
  } // exclude ourselves from the shown members list


  const shownMembers = (0, _lodash.sortBy)(members.filter(m => m.userId !== cli.getUserId()), iteratees).slice(0, numShown);
  if (shownMembers.length < 1) return null; // We reverse the order of the shown faces in CSS to simplify their visual overlap,
  // reverse members in tooltip order to make the order between the two match up.

  const commaSeparatedMembers = shownMembers.map(m => m.rawDisplayName).reverse().join(", ");
  let tooltip;

  if (props.onClick) {
    tooltip = /*#__PURE__*/_react.default.createElement("div", null, /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_Tooltip_title"
    }, (0, _languageHandler._t)("View all %(count)s members", {
      count: members.length
    })), /*#__PURE__*/_react.default.createElement("div", {
      className: "mx_Tooltip_sub"
    }, (0, _languageHandler._t)("Including %(commaSeparatedMembers)s", {
      commaSeparatedMembers
    })));
  } else {
    tooltip = (0, _languageHandler._t)("%(count)s members including %(commaSeparatedMembers)s", {
      count: members.length,
      commaSeparatedMembers
    });
  }

  return /*#__PURE__*/_react.default.createElement("div", (0, _extends2.default)({}, props, {
    className: "mx_FacePile"
  }), /*#__PURE__*/_react.default.createElement(_TextWithTooltip.default, {
    class: "mx_FacePile_faces",
    tooltip: tooltip,
    tooltipProps: {
      yOffset: 32
    }
  }, members.length > numShown ? /*#__PURE__*/_react.default.createElement("span", {
    className: "mx_FacePile_face mx_FacePile_more"
  }) : null, shownMembers.map(m => /*#__PURE__*/_react.default.createElement(_MemberAvatar.default, {
    key: m.userId,
    member: m,
    width: 28,
    height: 28,
    className: "mx_FacePile_face"
  }))), onlyKnownUsers && /*#__PURE__*/_react.default.createElement("span", {
    className: "mx_FacePile_summary"
  }, (0, _languageHandler._t)("%(count)s people you know have already joined", {
    count: members.length
  })));
};

var _default = FacePile;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3ZpZXdzL2VsZW1lbnRzL0ZhY2VQaWxlLnRzeCJdLCJuYW1lcyI6WyJERUZBVUxUX05VTV9GQUNFUyIsImlzS25vd25NZW1iZXIiLCJtZW1iZXIiLCJETVJvb21NYXAiLCJzaGFyZWQiLCJnZXRETVJvb21zRm9yVXNlcklkIiwidXNlcklkIiwibGVuZ3RoIiwiRmFjZVBpbGUiLCJyb29tIiwib25seUtub3duVXNlcnMiLCJudW1TaG93biIsInByb3BzIiwiY2xpIiwiTWF0cml4Q2xpZW50Q29udGV4dCIsIm1lbWJlcnMiLCJpdGVyYXRlZXMiLCJnZXRNeGNBdmF0YXJVcmwiLCJmaWx0ZXIiLCJ1bnNoaWZ0Iiwic2hvd25NZW1iZXJzIiwibSIsImdldFVzZXJJZCIsInNsaWNlIiwiY29tbWFTZXBhcmF0ZWRNZW1iZXJzIiwibWFwIiwicmF3RGlzcGxheU5hbWUiLCJyZXZlcnNlIiwiam9pbiIsInRvb2x0aXAiLCJvbkNsaWNrIiwiY291bnQiLCJ5T2Zmc2V0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUdBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7OztBQUVBLE1BQU1BLGlCQUFpQixHQUFHLENBQTFCOztBQVFBLE1BQU1DLGFBQWEsR0FBSUMsTUFBRDtBQUFBOztBQUFBLFNBQXdCLENBQUMsMkJBQUNDLG1CQUFVQyxNQUFWLEdBQW1CQyxtQkFBbkIsQ0FBdUNILE1BQU0sQ0FBQ0ksTUFBOUMsQ0FBRCxrREFBQyxzQkFBdURDLE1BQXhELENBQXpCO0FBQUEsQ0FBdEI7O0FBRUEsTUFBTUMsUUFBUSxHQUFHLFFBQXFGO0FBQUEsTUFBcEY7QUFBRUMsSUFBQUEsSUFBRjtBQUFRQyxJQUFBQSxjQUFjLEdBQUcsSUFBekI7QUFBK0JDLElBQUFBLFFBQVEsR0FBR1g7QUFBMUMsR0FBb0Y7QUFBQSxNQUFwQlksS0FBb0I7QUFDbEcsUUFBTUMsR0FBRyxHQUFHLHVC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IEMuSS5DLlxuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xueW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG5cbiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG5TZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG5saW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG5cbmltcG9ydCBSZWFjdCwgeyBIVE1MQXR0cmlidXRlcywgUmVhY3ROb2RlLCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSb29tIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tXCI7XG5pbXBvcnQgeyBSb29tTWVtYmVyIH0gZnJvbSBcIm1hdHJpeC1qcy1zZGsvc3JjL21vZGVscy9yb29tLW1lbWJlclwiO1xuaW1wb3J0IHsgc29ydEJ5IH0gZnJvbSBcImxvZGFzaFwiO1xuXG5pbXBvcnQgTWVtYmVyQXZhdGFyIGZyb20gXCIuLi9hdmF0YXJzL01lbWJlckF2YXRhclwiO1xuaW1wb3J0IHsgX3QgfSBmcm9tIFwiLi4vLi4vLi4vbGFuZ3VhZ2VIYW5kbGVyXCI7XG5pbXBvcnQgRE1Sb29tTWFwIGZyb20gXCIuLi8uLi8uLi91dGlscy9ETVJvb21NYXBcIjtcbmltcG9ydCBUZXh0V2l0aFRvb2x0aXAgZnJvbSBcIi4uL2VsZW1lbnRzL1RleHRXaXRoVG9vbHRpcFwiO1xuaW1wb3J0IHsgdXNlUm9vbU1lbWJlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaG9va3MvdXNlUm9vbU1lbWJlcnNcIjtcbmltcG9ydCBNYXRyaXhDbGllbnRDb250ZXh0IGZyb20gXCIuLi8uLi8uLi9jb250ZXh0cy9NYXRyaXhDbGllbnRDb250ZXh0XCI7XG5cbmNvbnN0IERFRkFVTFRfTlVNX0ZBQ0VTID0gNTtcblxuaW50ZXJmYWNlIElQcm9wcyBleHRlbmRzIEhUTUxBdHRyaWJ1dGVzPEhUTUxTcGFuRWxlbWVudD4ge1xuICAgIHJvb206IFJvb207XG4gICAgb25seUtub3duVXNlcnM/OiBib29sZWFuO1xuICAgIG51bVNob3duPzogbnVtYmVyO1xufVxuXG5jb25zdCBpc0tub3duTWVtYmVyID0gKG1lbWJlcjogUm9vbU1lbWJlcikgPT4gISFETVJvb21NYXAuc2hhcmVkKCkuZ2V0RE1Sb29tc0ZvclVzZXJJZChtZW1iZXIudXNlcklkKT8ubGVuZ3RoO1xuXG5jb25zdCBGYWNlUGlsZSA9ICh7IHJvb20sIG9ubHlLbm93blVzZXJzID0gdHJ1ZSwgbnVtU2hvd24gPSBERUZBVUxUX05VTV9GQUNFUywgLi4ucHJvcHMgfTogSVByb3BzKSA9PiB7XG4gICAgY29uc3QgY2xpID0gdXNlQ29udGV4dChNYXRyaXhDbGllbnRDb250ZXh0KTtcbiAgICBsZXQgbWVtYmVycyA9IHVzZVJvb21NZW1iZXJzKHJvb20pO1xuXG4gICAgLy8gc29ydCB1c2VycyB3aXRoIGFuIGV4cGxpY2l0IGF2YXRhciBmaXJzdFxuICAgIGNvbnN0IGl0ZXJhdGVlcyA9IFttZW1iZXIgPT4gISFtZW1iZXIuZ2V0TXhjQXZhdGFyVXJsKCldO1xuICAgIGlmIChvbmx5S25vd25Vc2Vycykge1xuICAgICAgICBtZW1iZXJzID0gbWVtYmVycy5maWx0ZXIoaXNLbm93bk1lbWJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc29ydCBrbm93biB1c2VycyBmaXJzdFxuICAgICAgICBpdGVyYXRlZXMudW5zaGlmdChtZW1iZXIgPT4gaXNLbm93bk1lbWJlcihtZW1iZXIpKTtcbiAgICB9XG5cbiAgICAvLyBleGNsdWRlIG91cnNlbHZlcyBmcm9tIHRoZSBzaG93biBtZW1iZXJzIGxpc3RcbiAgICBjb25zdCBzaG93bk1lbWJlcnMgPSBzb3J0QnkobWVtYmVycy5maWx0ZXIobSA9PiBtLnVzZXJJZCAhPT0gY2xpLmdldFVzZXJJZCgpKSwgaXRlcmF0ZWVzKS5zbGljZSgwLCBudW1TaG93bik7XG4gICAgaWYgKHNob3duTWVtYmVycy5sZW5ndGggPCAxKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFdlIHJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBzaG93biBmYWNlcyBpbiBDU1MgdG8gc2ltcGxpZnkgdGhlaXIgdmlzdWFsIG92ZXJsYXAsXG4gICAgLy8gcmV2ZXJzZSBtZW1iZXJzIGluIHRvb2x0aXAgb3JkZXIgdG8gbWFrZSB0aGUgb3JkZXIgYmV0d2VlbiB0aGUgdHdvIG1hdGNoIHVwLlxuICAgIGNvbnN0IGNvbW1hU2VwYXJhdGVkTWVtYmVycyA9IHNob3duTWVtYmVycy5tYXAobSA9PiBtLnJhd0Rpc3BsYXlOYW1lKS5yZXZlcnNlKCkuam9pbihcIiwgXCIpO1xuXG4gICAgbGV0IHRvb2x0aXA6IFJlYWN0Tm9kZTtcbiAgICBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICB0b29sdGlwID0gPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfVG9vbHRpcF90aXRsZVwiPlxuICAgICAgICAgICAgICAgIHsgX3QoXCJWaWV3IGFsbCAlKGNvdW50KXMgbWVtYmVyc1wiLCB7IGNvdW50OiBtZW1iZXJzLmxlbmd0aCB9KSB9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXhfVG9vbHRpcF9zdWJcIj5cbiAgICAgICAgICAgICAgICB7IF90KFwiSW5jbHVkaW5nICUoY29tbWFTZXBhcmF0ZWRNZW1iZXJzKXNcIiwgeyBjb21tYVNlcGFyYXRlZE1lbWJlcnMgfSkgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0b29sdGlwID0gX3QoXCIlKGNvdW50KXMgbWVtYmVycyBpbmNsdWRpbmcgJShjb21tYVNlcGFyYXRlZE1lbWJlcnMpc1wiLCB7XG4gICAgICAgICAgICBjb3VudDogbWVtYmVycy5sZW5ndGgsXG4gICAgICAgICAgICBjb21tYVNlcGFyYXRlZE1lbWJlcnMsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiA8ZGl2IHsuLi5wcm9wc30gY2xhc3NOYW1lPVwibXhfRmFjZVBpbGVcIj5cbiAgICAgICAgPFRleHRXaXRoVG9vbHRpcCBjbGFzcz1cIm14X0ZhY2VQaWxlX2ZhY2VzXCIgdG9vbHRpcD17dG9vbHRpcH0gdG9vbHRpcFByb3BzPXt7IHlPZmZzZXQ6IDMyIH19PlxuICAgICAgICAgICAgeyBtZW1iZXJzLmxlbmd0aCA+IG51bVNob3duID8gPHNwYW4gY2xhc3NOYW1lPVwibXhfRmFjZVBpbGVfZmFjZSBteF9GYWNlUGlsZV9tb3JlXCIgLz4gOiBudWxsIH1cbiAgICAgICAgICAgIHsgc2hvd25NZW1iZXJzLm1hcChtID0+XG4gICAgICAgICAgICAgICAgPE1lbWJlckF2YXRhciBrZXk9e20udXNlcklkfSBtZW1iZXI9e219IHdpZHRoPXsyOH0gaGVpZ2h0PXsyOH0gY2xhc3NOYW1lPVwibXhfRmFjZVBpbGVfZmFjZVwiIC8+ICkgfVxuICAgICAgICA8L1RleHRXaXRoVG9vbHRpcD5cbiAgICAgICAgeyBvbmx5S25vd25Vc2VycyAmJiA8c3BhbiBjbGFzc05hbWU9XCJteF9GYWNlUGlsZV9zdW1tYXJ5XCI+XG4gICAgICAgICAgICB7IF90KFwiJShjb3VudClzIHBlb3BsZSB5b3Uga25vdyBoYXZlIGFscmVhZHkgam9pbmVkXCIsIHsgY291bnQ6IG1lbWJlcnMubGVuZ3RoIH0pIH1cbiAgICAgICAgPC9zcGFuPiB9XG4gICAgPC9kaXY+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmFjZVBpbGU7XG4iXX0=